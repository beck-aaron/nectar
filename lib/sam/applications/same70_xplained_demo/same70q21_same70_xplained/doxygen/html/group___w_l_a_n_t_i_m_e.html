<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: System Time</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">System Time<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Here are listed all the functions that implement the System Time APIs.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for System Time:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_t_i_m_e.gif" border="0" usemap="#agroup______w__l__a__n__t__i__m__e" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9b9ee00af64063f54a42264efdfdaa4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga9b9ee00af64063f54a42264efdfdaa4b">m2m_wifi_configure_sntp</a> (<a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *pu8NTPServerName, <a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8NTPServerNameLength, <a class="el" href="group___wlan_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a> useDHCP)</td></tr>
<tr class="memdesc:ga9b9ee00af64063f54a42264efdfdaa4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures what NTP server the SNTP client should use.  <br /></td></tr>
<tr class="separator:ga9b9ee00af64063f54a42264efdfdaa4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7e3b4c1e896f26b0c1f9858974eb14e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#gaf7e3b4c1e896f26b0c1f9858974eb14e">m2m_wifi_enable_sntp</a> (<a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> bEnable)</td></tr>
<tr class="memdesc:gaf7e3b4c1e896f26b0c1f9858974eb14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WINC15x0 firmware.  <br /></td></tr>
<tr class="separator:gaf7e3b4c1e896f26b0c1f9858974eb14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8509c44e728c5a3d9643424c24c3e2d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga8509c44e728c5a3d9643424c24c3e2d4">m2m_wifi_get_system_time</a> (void)</td></tr>
<tr class="memdesc:ga8509c44e728c5a3d9643424c24c3e2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to obtain the system time in use by the WINC IC.  <br /></td></tr>
<tr class="separator:ga8509c44e728c5a3d9643424c24c3e2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72de70ef6f15986aa74fce1b3ebb45a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga72de70ef6f15986aa74fce1b3ebb45a0">m2m_wifi_set_system_time</a> (<a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32UTCSeconds)</td></tr>
<tr class="memdesc:ga72de70ef6f15986aa74fce1b3ebb45a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting the system time within the WINC IC.  <br /></td></tr>
<tr class="separator:ga72de70ef6f15986aa74fce1b3ebb45a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Here are listed all the functions that implement the System Time APIs. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9b9ee00af64063f54a42264efdfdaa4b" name="ga9b9ee00af64063f54a42264efdfdaa4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b9ee00af64063f54a42264efdfdaa4b">&#9670;&#160;</a></span>m2m_wifi_configure_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_configure_sntp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *&#160;</td>
          <td class="paramname"><em>pu8NTPServerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>u8NTPServerNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___wlan_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a>&#160;</td>
          <td class="paramname"><em>useDHCP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures what NTP server the SNTP client should use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useDHCP</td><td>Should the NTP server provided by the DHCP server be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return M2M_SUCCESS for success and a negative value otherwise.</dd></dl>
<p>Configures what NTP server the SNTP client should use. Only 1 server name can be provided, if the configured server name begins with an asterisk then it will be treated as a server pool. The SNTP client can also use the NTP server provided by the DHCP server through option 42. By default the NTP server provided by DHCP will be tried first, then the built-in default NTP server (time.nist.gov) will be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useDHCP</td><td>Explicity tell the WINC if it should use the NTP server provided by the DHCP server or not.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>SNTP should be configured before the connection takes place. If SNTP is configured after the device connects to a network, the new configuration can take a minimum of 24h to be applied. However, it can take even longer since it is triggered by DHCP renewal. Currently there is also a known issue in which if the WINC obtains the NTP server from DHCP and then connects to a different network, it will still use the NTP from the previous network. Configuring a server name will overwrite the built-in default server until next reboot.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01696">1696</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1697</span>{</div>
<div class="line"><span class="lineno"> 1698</span>    <a class="code hl_struct" href="structtstr_m2_m_s_n_t_p_config.html">tstrM2MSNTPConfig</a> strSNTPConfig;</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="keywordflow">if</span>(u8NTPServerNameLength &gt; <a class="code hl_define" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>)</div>
<div class="line"><span class="lineno"> 1700</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"><span class="lineno"> 1701</span> </div>
<div class="line"><span class="lineno"> 1702</span>    <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)strSNTPConfig.<a class="code hl_variable" href="structtstr_m2_m_s_n_t_p_config.html#af2f828818227e6bceb939e4a3070304b">acNTPServer</a>, pu8NTPServerName, u8NTPServerNameLength);</div>
<div class="line"><span class="lineno"> 1703</span>    strSNTPConfig.<a class="code hl_variable" href="structtstr_m2_m_s_n_t_p_config.html#af2f828818227e6bceb939e4a3070304b">acNTPServer</a>[u8NTPServerNameLength] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1704</span> </div>
<div class="line"><span class="lineno"> 1705</span>    strSNTPConfig.<a class="code hl_variable" href="structtstr_m2_m_s_n_t_p_config.html#aa6d346eae01f3b4b43f952946251e798">enuUseDHCP</a> = useDHCP;</div>
<div class="line"><span class="lineno"> 1706</span> </div>
<div class="line"><span class="lineno"> 1707</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20aa549bfd37190784207de41b3e4b6c448">M2M_WIFI_REQ_CONFIG_SNTP</a>,</div>
<div class="line"><span class="lineno"> 1708</span>        (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;strSNTPConfig, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_m2_m_s_n_t_p_config.html">tstrM2MSNTPConfig</a>), <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,0);</div>
<div class="line"><span class="lineno"> 1709</span>}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_a_p_i_html_ga28b094db63be31612f7d2c5af692d3a5"><div class="ttname"><a href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a></div><div class="ttdeci">void m2m_memcpy(uint8 *pDst, uint8 *pSrc, uint32 sz)</div><div class="ttdoc">Copy specified number of bytes from source buffer to destination buffer.</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8c_source.html#l00036">nm_common.c:36</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga39ed05df730834f2255971ca9879996e"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a></div><div class="ttdeci">#define M2M_ERR_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00066">nm_common.h:66</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga4df709a77647e870bbf1d955b8edc9a6"><div class="ttname"><a href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Range of values between 0 to 255.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00093">nm_bsp.h:93</a></div></div>
<div class="ttc" id="agroup___wlan_defines_html_ga8a697d06854e3e602bd2a2464149fd08"><div class="ttname"><a href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a></div><div class="ttdeci">#define M2M_NTP_MAX_SERVER_NAME_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00219">m2m_types.h:217</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20aa549bfd37190784207de41b3e4b6c448"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20aa549bfd37190784207de41b3e4b6c448">M2M_WIFI_REQ_CONFIG_SNTP</a></div><div class="ttdeci">@ M2M_WIFI_REQ_CONFIG_SNTP</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00971">m2m_types.h:969</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966"><div class="ttname"><a href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a></div><div class="ttdeci">@ M2M_REQ_GROUP_WIFI</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00815">m2m_types.h:815</a></div></div>
<div class="ttc" id="am2m__hif_8c_html_a13ba8ad11b2ac39516ca787386d16ce0"><div class="ttname"><a href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a></div><div class="ttdeci">sint8 hif_send(uint8 u8Gid, uint8 u8Opcode, uint8 *pu8CtrlBuf, uint16 u16CtrlBufSize, uint8 *pu8DataBuf, uint16 u16DataSize, uint16 u16DataOffset)</div><div class="ttdoc">Send packet using host interface.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__hif_8c_source.html#l00293">m2m_hif.c:293</a></div></div>
<div class="ttc" id="astructtstr_m2_m_s_n_t_p_config_html"><div class="ttname"><a href="structtstr_m2_m_s_n_t_p_config.html">tstrM2MSNTPConfig</a></div><div class="ttdoc">SNTP Client Configuration.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02670">m2m_types.h:2670</a></div></div>
<div class="ttc" id="astructtstr_m2_m_s_n_t_p_config_html_aa6d346eae01f3b4b43f952946251e798"><div class="ttname"><a href="structtstr_m2_m_s_n_t_p_config.html#aa6d346eae01f3b4b43f952946251e798">tstrM2MSNTPConfig::enuUseDHCP</a></div><div class="ttdeci">tenuSNTPUseDHCP enuUseDHCP</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02677">m2m_types.h:2677</a></div></div>
<div class="ttc" id="astructtstr_m2_m_s_n_t_p_config_html_af2f828818227e6bceb939e4a3070304b"><div class="ttname"><a href="structtstr_m2_m_s_n_t_p_config.html#af2f828818227e6bceb939e4a3070304b">tstrM2MSNTPConfig::acNTPServer</a></div><div class="ttdeci">char acNTPServer[M2M_NTP_MAX_SERVER_NAME_LENGTH+1]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02674">m2m_types.h:2674</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__types_8h_source.html#l02674">tstrM2MSNTPConfig::acNTPServer</a>, <a class="el" href="m2m__types_8h_source.html#l02677">tstrM2MSNTPConfig::enuUseDHCP</a>, <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="nm__common_8h_source.html#l00066">M2M_ERR_FAIL</a>, <a class="el" href="nm__common_8c_source.html#l00036">m2m_memcpy()</a>, <a class="el" href="m2m__types_8h_source.html#l00217">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="m2m__types_8h_source.html#l00969">M2M_WIFI_REQ_CONFIG_SNTP</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_t_i_m_e_ga9b9ee00af64063f54a42264efdfdaa4b_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_t_i_m_e_ga9b9ee00af64063f54a42264efdfdaa4b_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gaf7e3b4c1e896f26b0c1f9858974eb14e" name="gaf7e3b4c1e896f26b0c1f9858974eb14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7e3b4c1e896f26b0c1f9858974eb14e">&#9670;&#160;</a></span>m2m_wifi_enable_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_enable_sntp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>bEnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WINC15x0 firmware. </p>
<p>The SNTP is enabled by default at start-up.The SNTP client at firmware is used to synchronize the system clock to the UTC time from the well known time servers (e.g. "time-c.nist.gov"). The SNTP client uses a default update cycle of 1 day.</p>
<p>The UTC is important for checking the expiration date of X509 certificates used while establishing TLS (Transport Layer Security) connections.</p>
<p>It is highly recommended to use it if there is no other means to get the UTC time. If there is a RTC on the host MCU, the SNTP could be disabled and the host should set the system time to the firmware using the <a class="el" href="group___w_l_a_n_t_i_m_e.html#ga72de70ef6f15986aa74fce1b3ebb45a0">m2m_wifi_set_system_time</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>Enables or disables the SNTP service '0' :disable SNTP '1' :enable SNTP <br  />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga72de70ef6f15986aa74fce1b3ebb45a0" title="Function for setting the system time within the WINC IC.">m2m_wifi_set_system_time</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01800">1800</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1801</span>{</div>
<div class="line"><span class="lineno"> 1802</span>    <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>   u8Req;</div>
<div class="line"><span class="lineno"> 1803</span> </div>
<div class="line"><span class="lineno"> 1804</span>    u8Req = bEnable ? <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a3d880872d07a35f27f164de5e7b63e00">M2M_WIFI_REQ_ENABLE_SNTP_CLIENT</a> : <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a391b5f1b3127429feb6b1daee5617df7">M2M_WIFI_REQ_DISABLE_SNTP_CLIENT</a>;</div>
<div class="line"><span class="lineno"> 1805</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, u8Req, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno"> 1806</span>}</div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a391b5f1b3127429feb6b1daee5617df7"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a391b5f1b3127429feb6b1daee5617df7">M2M_WIFI_REQ_DISABLE_SNTP_CLIENT</a></div><div class="ttdeci">@ M2M_WIFI_REQ_DISABLE_SNTP_CLIENT</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00896">m2m_types.h:892</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a3d880872d07a35f27f164de5e7b63e00"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a3d880872d07a35f27f164de5e7b63e00">M2M_WIFI_REQ_ENABLE_SNTP_CLIENT</a></div><div class="ttdeci">@ M2M_WIFI_REQ_ENABLE_SNTP_CLIENT</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00891">m2m_types.h:887</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="m2m__types_8h_source.html#l00892">M2M_WIFI_REQ_DISABLE_SNTP_CLIENT</a>, <a class="el" href="m2m__types_8h_source.html#l00887">M2M_WIFI_REQ_ENABLE_SNTP_CLIENT</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_t_i_m_e_gaf7e3b4c1e896f26b0c1f9858974eb14e_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_t_i_m_e_gaf7e3b4c1e896f26b0c1f9858974eb14e_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga8509c44e728c5a3d9643424c24c3e2d4" name="ga8509c44e728c5a3d9643424c24c3e2d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8509c44e728c5a3d9643424c24c3e2d4">&#9670;&#160;</a></span>m2m_wifi_get_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_get_system_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to obtain the system time in use by the WINC IC. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#gaf7e3b4c1e896f26b0c1f9858974eb14e" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a> <br  />
 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>get the system time from the sntp client using the API <a class="el" href="group___w_l_a_n_t_i_m_e.html#ga8509c44e728c5a3d9643424c24c3e2d4">m2m_wifi_get_system_time</a>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd></dl>
<p>Asynchronous function used to retrieve the system time through the use of the response <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a>. Response time retrieved is parsed into the members defined in the structure <a class="el" href="structtstr_system_time.html">tstrSystemTime</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Get the system time from the SNTP client using the API <a class="el" href="group___w_l_a_n_t_i_m_e.html#ga8509c44e728c5a3d9643424c24c3e2d4">m2m_wifi_get_system_time</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#gaf7e3b4c1e896f26b0c1f9858974eb14e" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a> <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01795">1795</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1796</span>{</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a6f9e082786ffe18ff5b15fa9b013cc78">M2M_WIFI_REQ_GET_SYS_TIME</a>, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,0, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno"> 1798</span>}</div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a6f9e082786ffe18ff5b15fa9b013cc78"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a6f9e082786ffe18ff5b15fa9b013cc78">M2M_WIFI_REQ_GET_SYS_TIME</a></div><div class="ttdeci">@ M2M_WIFI_REQ_GET_SYS_TIME</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00937">m2m_types.h:934</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="m2m__types_8h_source.html#l00934">M2M_WIFI_REQ_GET_SYS_TIME</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_t_i_m_e_ga8509c44e728c5a3d9643424c24c3e2d4_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_t_i_m_e_ga8509c44e728c5a3d9643424c24c3e2d4_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga72de70ef6f15986aa74fce1b3ebb45a0" name="ga72de70ef6f15986aa74fce1b3ebb45a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72de70ef6f15986aa74fce1b3ebb45a0">&#9670;&#160;</a></span>m2m_wifi_set_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_set_system_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32UTCSeconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting the system time within the WINC IC. </p>
<p>Synchronous function for setting the system time in time/date format (<a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>). The <a class="el" href="structtstr_system_time.html">tstrSystemTime</a> structure can be used as a reference to the time values that should be set and pass its value as <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>Seconds elapsed since January 1, 1900 (NTP Timestamp).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#gaf7e3b4c1e896f26b0c1f9858974eb14e" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP may be disabled and the host may set the system time within the firmware using the API <a class="el" href="group___w_l_a_n_t_i_m_e.html#ga72de70ef6f15986aa74fce1b3ebb45a0">m2m_wifi_set_system_time</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01780">1780</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1781</span>{</div>
<div class="line"><span class="lineno"> 1782</span>    <span class="comment">/* </span></div>
<div class="line"><span class="lineno"> 1783</span><span class="comment">        The firmware accepts timestamps relative to 1900 like NTP Timestamp.</span></div>
<div class="line"><span class="lineno"> 1784</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a3ccfa4852dc4e1fa4840c93b6d7f9007">M2M_WIFI_REQ_SET_SYS_TIME</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;u32UTCSeconds, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_system_time.html">tstrSystemTime</a>), <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno"> 1786</span>}</div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a3ccfa4852dc4e1fa4840c93b6d7f9007"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a3ccfa4852dc4e1fa4840c93b6d7f9007">M2M_WIFI_REQ_SET_SYS_TIME</a></div><div class="ttdeci">@ M2M_WIFI_REQ_SET_SYS_TIME</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00886">m2m_types.h:883</a></div></div>
<div class="ttc" id="astructtstr_system_time_html"><div class="ttname"><a href="structtstr_system_time.html">tstrSystemTime</a></div><div class="ttdoc">Used for time storage.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02701">m2m_types.h:2701</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="m2m__types_8h_source.html#l00883">M2M_WIFI_REQ_SET_SYS_TIME</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_t_i_m_e_ga72de70ef6f15986aa74fce1b3ebb45a0_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_t_i_m_e_ga72de70ef6f15986aa74fce1b3ebb45a0_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
