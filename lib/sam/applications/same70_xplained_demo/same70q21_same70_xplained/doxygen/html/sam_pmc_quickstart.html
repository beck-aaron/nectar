<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: Quick start guide for the SAM PMC module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Quick start guide for the SAM PMC module </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the quick start guide for the <a class="el" href="group__sam__drivers__pmc__group.html">PMC module</a>, with step-by-step instructions on how to configure and use the driver in a selection of use cases.</p>
<p>The use cases contain several code fragments. The code fragments in the steps for setup can be copied into a custom initialization function, while the steps for usage can be copied into, e.g., the main application function.</p>
<h1><a class="anchor" id="pmc_use_cases"></a>
PMC use cases</h1>
<ul>
<li><a class="el" href="sam_pmc_quickstart.html#pmc_basic_use_case">Basic use case - Switch Main Clock sources</a> Basic use case - Switch Main Clock sources</li>
<li><a class="el" href="sam_pmc_quickstart.html#pmc_use_case_2">Use case #2 - Configure Programmable Clocks</a> Advanced use case - Configure Programmable Clocks</li>
</ul>
<h1><a class="anchor" id="pmc_basic_use_case"></a>
Basic use case - Switch Main Clock sources</h1>
<p>In this use case, the PMC module is configured for a variety of system clock sources and speeds. A LED is used to visually indicate the current clock speed as the source is switched.</p>
<h1><a class="anchor" id="pmc_basic_use_case_setup"></a>
Setup</h1>
<h2><a class="anchor" id="pmc_basic_use_case_setup_prereq"></a>
Prerequisites</h2>
<ol type="1">
<li><a class="el" href="group__gpio__group.html">General Purpose I/O Management (gpio)</a></li>
</ol>
<h2><a class="anchor" id="pmc_basic_use_case_setup_code"></a>
Code</h2>
<p>The following function needs to be added to the user application, to flash a board LED a variable number of times at a rate given in CPU ticks.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define FLASH_TICK_COUNT   0x00012345</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> flash_led(uint32_t tick_count, uint8_t flash_count)</div>
<div class="line">{</div>
<div class="line">    SysTick-&gt;CTRL = SysTick_CTRL_ENABLE_Msk;</div>
<div class="line">    SysTick-&gt;LOAD = tick_count;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (flash_count--)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="sam__gpio_8h.html#a632a973d813fe324e9b5f8d3afbca82e">gpio_toggle_pin</a>(<a class="code hl_define" href="same70__xplained_8h.html#ab6dc1ebd13b429afb03cfc49728cc896">LED0_GPIO</a>);</div>
<div class="line">        <span class="keywordflow">while</span> (!(SysTick-&gt;CTRL &amp; SysTick_CTRL_COUNTFLAG_Msk));</div>
<div class="line">        <a class="code hl_define" href="sam__gpio_8h.html#a632a973d813fe324e9b5f8d3afbca82e">gpio_toggle_pin</a>(<a class="code hl_define" href="same70__xplained_8h.html#ab6dc1ebd13b429afb03cfc49728cc896">LED0_GPIO</a>);</div>
<div class="line">        <span class="keywordflow">while</span> (!(SysTick-&gt;CTRL &amp; SysTick_CTRL_COUNTFLAG_Msk));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="asam__gpio_8h_html_a632a973d813fe324e9b5f8d3afbca82e"><div class="ttname"><a href="sam__gpio_8h.html#a632a973d813fe324e9b5f8d3afbca82e">gpio_toggle_pin</a></div><div class="ttdeci">#define gpio_toggle_pin(io_id)</div><div class="ttdef"><b>Definition:</b> <a href="sam__gpio_8h_source.html#l00055">sam_gpio.h:55</a></div></div>
<div class="ttc" id="asame70__xplained_8h_html_ab6dc1ebd13b429afb03cfc49728cc896"><div class="ttname"><a href="same70__xplained_8h.html#ab6dc1ebd13b429afb03cfc49728cc896">LED0_GPIO</a></div><div class="ttdeci">#define LED0_GPIO</div><div class="ttdef"><b>Definition:</b> <a href="same70__xplained_8h_source.html#l00132">same70_xplained.h:132</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="pmc_basic_use_case_usage"></a>
Use case</h1>
<h2><a class="anchor" id="pmc_basic_use_case_usage_code"></a>
Example code</h2>
<p>Add to application C-file: </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (;;)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#aaeb3752f6e7cfeb60df9fd3821614451">CKGR_MOR_MOSCRCF_12_MHz</a>);</div>
<div class="line">    flash_led(FLASH_TICK_COUNT, 5);</div>
<div class="line">    <a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a1f689250243e92d6e635f265e6ff1951">CKGR_MOR_MOSCRCF_8_MHz</a>);</div>
<div class="line">    flash_led(FLASH_TICK_COUNT, 5);</div>
<div class="line">    <a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a537fab2d22074bcb009fcf2201aa6ab1">CKGR_MOR_MOSCRCF_4_MHz</a>);</div>
<div class="line">    flash_led(FLASH_TICK_COUNT, 5);</div>
<div class="line">    <a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga14a6910f902d5838ac1efdb29d933c45">pmc_switch_mainck_to_xtal</a>(0);</div>
<div class="line">    flash_led(FLASH_TICK_COUNT, 5);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__sam__drivers__pmc__group_html_ga14a6910f902d5838ac1efdb29d933c45"><div class="ttname"><a href="group__sam__drivers__pmc__group.html#ga14a6910f902d5838ac1efdb29d933c45">pmc_switch_mainck_to_xtal</a></div><div class="ttdeci">void pmc_switch_mainck_to_xtal(uint32_t ul_bypass, uint32_t ul_xtal_startup_time)</div><div class="ttdoc">Switch main clock source selection to external Xtal/Bypass.</div><div class="ttdef"><b>Definition:</b> <a href="pmc_8c_source.html#l00485">pmc.c:485</a></div></div>
<div class="ttc" id="agroup__sam__drivers__pmc__group_html_ga99fe80ceb242a783b01fa3e68d75f4e6"><div class="ttname"><a href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a></div><div class="ttdeci">void pmc_switch_mainck_to_fastrc(uint32_t ul_moscrcf)</div><div class="ttdoc">Switch main clock source selection to internal fast RC.</div><div class="ttdef"><b>Definition:</b> <a href="pmc_8c_source.html#l00351">pmc.c:351</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2pmc_8h_html_a1f689250243e92d6e635f265e6ff1951"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a1f689250243e92d6e635f265e6ff1951">CKGR_MOR_MOSCRCF_8_MHz</a></div><div class="ttdeci">#define CKGR_MOR_MOSCRCF_8_MHz</div><div class="ttdoc">(CKGR_MOR) Fast RC oscillator frequency is at 8 MHz</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2pmc_8h_source.html#l00217">utils/cmsis/same70/include/component/pmc.h:217</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2pmc_8h_html_a537fab2d22074bcb009fcf2201aa6ab1"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a537fab2d22074bcb009fcf2201aa6ab1">CKGR_MOR_MOSCRCF_4_MHz</a></div><div class="ttdeci">#define CKGR_MOR_MOSCRCF_4_MHz</div><div class="ttdoc">(CKGR_MOR) Fast RC oscillator frequency is at 4 MHz (default)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2pmc_8h_source.html#l00216">utils/cmsis/same70/include/component/pmc.h:216</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2pmc_8h_html_aaeb3752f6e7cfeb60df9fd3821614451"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#aaeb3752f6e7cfeb60df9fd3821614451">CKGR_MOR_MOSCRCF_12_MHz</a></div><div class="ttdeci">#define CKGR_MOR_MOSCRCF_12_MHz</div><div class="ttdoc">(CKGR_MOR) Fast RC oscillator frequency is at 12 MHz</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2pmc_8h_source.html#l00218">utils/cmsis/same70/include/component/pmc.h:218</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="pmc_basic_use_case_usage_flow"></a>
Workflow</h2>
<ol type="1">
<li>Wrap the code in an infinite loop: <div class="fragment"><div class="line"><span class="keywordflow">for</span> (;;)</div>
</div><!-- fragment --></li>
<li>Switch the Master CPU frequency to the internal 12MHz RC oscillator, flash a LED on the board several times: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#aaeb3752f6e7cfeb60df9fd3821614451">CKGR_MOR_MOSCRCF_12_MHz</a>);</div>
<div class="line">flash_led(FLASH_TICK_COUNT, 5);</div>
</div><!-- fragment --></li>
<li>Switch the Master CPU frequency to the internal 8MHz RC oscillator, flash a LED on the board several times: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a1f689250243e92d6e635f265e6ff1951">CKGR_MOR_MOSCRCF_8_MHz</a>);</div>
<div class="line">flash_led(FLASH_TICK_COUNT, 5);</div>
</div><!-- fragment --></li>
<li>Switch the Master CPU frequency to the internal 4MHz RC oscillator, flash a LED on the board several times: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga99fe80ceb242a783b01fa3e68d75f4e6">pmc_switch_mainck_to_fastrc</a>(<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2pmc_8h.html#a537fab2d22074bcb009fcf2201aa6ab1">CKGR_MOR_MOSCRCF_4_MHz</a>);</div>
<div class="line">flash_led(FLASH_TICK_COUNT, 5);</div>
</div><!-- fragment --></li>
<li>Switch the Master CPU frequency to the external crystal oscillator, flash a LED on the board several times: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga14a6910f902d5838ac1efdb29d933c45">pmc_switch_mainck_to_xtal</a>(0, <a class="code hl_define" href="same70_2osc_8h.html#a72c1c5d05c0eee527f680ead3d7c3f09">BOARD_OSC_STARTUP_US</a>);</div>
<div class="line">flash_led(FLASH_TICK_COUNT, 5);</div>
<div class="ttc" id="asame70_2osc_8h_html_a72c1c5d05c0eee527f680ead3d7c3f09"><div class="ttname"><a href="same70_2osc_8h.html#a72c1c5d05c0eee527f680ead3d7c3f09">BOARD_OSC_STARTUP_US</a></div><div class="ttdeci">#define BOARD_OSC_STARTUP_US</div><div class="ttdef"><b>Definition:</b> <a href="same70_2osc_8h_source.html#l00077">same70/osc.h:77</a></div></div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="pmc_use_case_2"></a>
Use case #2 - Configure Programmable Clocks</h1>
<p>In this use case, the PMC module is configured to start the Slow Clock from an attached 32KHz crystal, and start one of the Programmable Clock modules sourced from the Slow Clock divided down with a prescale factor of 64.</p>
<h1><a class="anchor" id="pmc_use_case_2_setup"></a>
Setup</h1>
<h2><a class="anchor" id="pmc_use_case_2_setup_prereq"></a>
Prerequisites</h2>
<ol type="1">
<li>Parallel Input/Output Controller (pio)</li>
</ol>
<h2><a class="anchor" id="pmc_use_case_2_setup_code"></a>
Code</h2>
<p>The following code must be added to the user application: </p><div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pio__group.html#ga245df3215515d49f990bc80cec318de6">pio_set_peripheral</a>(<a class="code hl_define" href="same70j19_8h.html#a1692c0510a8ab56be133b9693ec14267">PIOA</a>, <a class="code hl_enumvalue" href="drivers_2pio_2pio_8h.html#a3fec53808ef45d162a52443324c82773a4dc3ad74ebb046ef2b1caa28a515adf3">PIO_PERIPH_B</a>, <a class="code hl_define" href="pio_2same70n19_8h.html#aeb58a6e8b1f949b134684df3a71ec371">PIO_PA17</a>);</div>
<div class="ttc" id="adrivers_2pio_2pio_8h_html_a3fec53808ef45d162a52443324c82773a4dc3ad74ebb046ef2b1caa28a515adf3"><div class="ttname"><a href="drivers_2pio_2pio_8h.html#a3fec53808ef45d162a52443324c82773a4dc3ad74ebb046ef2b1caa28a515adf3">PIO_PERIPH_B</a></div><div class="ttdeci">@ PIO_PERIPH_B</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2pio_2pio_8h_source.html#l00073">drivers/pio/pio.h:73</a></div></div>
<div class="ttc" id="agroup__sam__drivers__pio__group_html_ga245df3215515d49f990bc80cec318de6"><div class="ttname"><a href="group__sam__drivers__pio__group.html#ga245df3215515d49f990bc80cec318de6">pio_set_peripheral</a></div><div class="ttdeci">void pio_set_peripheral(Pio *p_pio, const pio_type_t ul_type, const uint32_t ul_mask)</div><div class="ttdoc">Configure IO of a PIO controller as being controlled by a specific peripheral.</div><div class="ttdef"><b>Definition:</b> <a href="pio_8c_source.html#l00174">pio.c:174</a></div></div>
<div class="ttc" id="apio_2same70n19_8h_html_aeb58a6e8b1f949b134684df3a71ec371"><div class="ttname"><a href="pio_2same70n19_8h.html#aeb58a6e8b1f949b134684df3a71ec371">PIO_PA17</a></div><div class="ttdeci">#define PIO_PA17</div><div class="ttdoc">Pin Controlled by PA17.</div><div class="ttdef"><b>Definition:</b> <a href="pio_2same70n19_8h_source.html#l00054">pio/same70n19.h:54</a></div></div>
<div class="ttc" id="asame70j19_8h_html_a1692c0510a8ab56be133b9693ec14267"><div class="ttname"><a href="same70j19_8h.html#a1692c0510a8ab56be133b9693ec14267">PIOA</a></div><div class="ttdeci">#define PIOA</div><div class="ttdoc">(PIOA ) Base Address</div><div class="ttdef"><b>Definition:</b> <a href="same70j19_8h_source.html#l00529">same70j19.h:529</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="pmc_use_case_2_setup_code_workflow"></a>
Workflow</h2>
<ol type="1">
<li>Configure the PCK1 pin to output on a specific port pin (in this case, PIOA pin 17) of the microcontroller. <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pio__group.html#ga245df3215515d49f990bc80cec318de6">pio_set_peripheral</a>(<a class="code hl_define" href="same70j19_8h.html#a1692c0510a8ab56be133b9693ec14267">PIOA</a>, <a class="code hl_enumvalue" href="drivers_2pio_2pio_8h.html#a3fec53808ef45d162a52443324c82773a4dc3ad74ebb046ef2b1caa28a515adf3">PIO_PERIPH_B</a>, <a class="code hl_define" href="pio_2same70n19_8h.html#aeb58a6e8b1f949b134684df3a71ec371">PIO_PA17</a>);</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The peripheral selection and pin will vary according to your selected SAM device model. Refer to the "Peripheral Signal Multiplexing on I/O
         Lines" of your device's datasheet.</dd></dl>
</li>
</ol>
<h1><a class="anchor" id="pmc_use_case_2_usage"></a>
Use case</h1>
<p>The generated PCK1 clock output can be viewed on an oscilloscope attached to the correct pin of the microcontroller.</p>
<h2><a class="anchor" id="pmc_use_case_2_usage_code"></a>
Example code</h2>
<p>Add to application C-file: </p><div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#gaf0bfe7345422ac59a95b4df85ed5c140">pmc_switch_sclk_to_32kxtal</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#af580741e8e1b9fc3766ab25b105feccf">PMC_OSC_XTAL</a>);</div>
<div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#gae9749eb62855eb66f55f43758bb9f219">pmc_switch_pck_to_sclk</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#a375e131fa6959bcf1322d11c0804d053">PMC_PCK_1</a>, PMC_PCK_PRES_CLK_64);</div>
<div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga1c092ebde01d9748165bf3f556d82a57">pmc_enable_pck</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#a375e131fa6959bcf1322d11c0804d053">PMC_PCK_1</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (;;)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Do Nothing</span></div>
<div class="line">}</div>
<div class="ttc" id="adrivers_2pmc_2pmc_8h_html_a375e131fa6959bcf1322d11c0804d053"><div class="ttname"><a href="drivers_2pmc_2pmc_8h.html#a375e131fa6959bcf1322d11c0804d053">PMC_PCK_1</a></div><div class="ttdeci">#define PMC_PCK_1</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2pmc_2pmc_8h_source.html#l00092">drivers/pmc/pmc.h:92</a></div></div>
<div class="ttc" id="adrivers_2pmc_2pmc_8h_html_af580741e8e1b9fc3766ab25b105feccf"><div class="ttname"><a href="drivers_2pmc_2pmc_8h.html#af580741e8e1b9fc3766ab25b105feccf">PMC_OSC_XTAL</a></div><div class="ttdeci">#define PMC_OSC_XTAL</div><div class="ttdoc">Using external oscillator.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2pmc_2pmc_8h_source.html#l00086">drivers/pmc/pmc.h:86</a></div></div>
<div class="ttc" id="agroup__sam__drivers__pmc__group_html_ga1c092ebde01d9748165bf3f556d82a57"><div class="ttname"><a href="group__sam__drivers__pmc__group.html#ga1c092ebde01d9748165bf3f556d82a57">pmc_enable_pck</a></div><div class="ttdeci">void pmc_enable_pck(uint32_t ul_id)</div><div class="ttdoc">Enable the specified programmable clock.</div><div class="ttdef"><b>Definition:</b> <a href="pmc_8c_source.html#l01062">pmc.c:1062</a></div></div>
<div class="ttc" id="agroup__sam__drivers__pmc__group_html_gae9749eb62855eb66f55f43758bb9f219"><div class="ttname"><a href="group__sam__drivers__pmc__group.html#gae9749eb62855eb66f55f43758bb9f219">pmc_switch_pck_to_sclk</a></div><div class="ttdeci">uint32_t pmc_switch_pck_to_sclk(uint32_t ul_id, uint32_t ul_pres)</div><div class="ttdoc">Switch programmable clock source selection to slow clock.</div><div class="ttdef"><b>Definition:</b> <a href="pmc_8c_source.html#l00874">pmc.c:874</a></div></div>
<div class="ttc" id="agroup__sam__drivers__pmc__group_html_gaf0bfe7345422ac59a95b4df85ed5c140"><div class="ttname"><a href="group__sam__drivers__pmc__group.html#gaf0bfe7345422ac59a95b4df85ed5c140">pmc_switch_sclk_to_32kxtal</a></div><div class="ttdeci">void pmc_switch_sclk_to_32kxtal(uint32_t ul_bypass)</div><div class="ttdoc">Switch slow clock source selection to external 32k (Xtal or Bypass).</div><div class="ttdef"><b>Definition:</b> <a href="pmc_8c_source.html#l00319">pmc.c:319</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="pmc_use_case_2_usage_flow"></a>
Workflow</h2>
<ol type="1">
<li>Switch the Slow Clock source input to an external 32KHz crystal: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#gaf0bfe7345422ac59a95b4df85ed5c140">pmc_switch_sclk_to_32kxtal</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#af580741e8e1b9fc3766ab25b105feccf">PMC_OSC_XTAL</a>);</div>
</div><!-- fragment --></li>
<li>Switch the Programmable Clock module PCK1 source clock to the Slow Clock, with a prescaler of 64: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#gae9749eb62855eb66f55f43758bb9f219">pmc_switch_pck_to_sclk</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#a375e131fa6959bcf1322d11c0804d053">PMC_PCK_1</a>, PMC_PCK_PRES_CLK_64);</div>
</div><!-- fragment --></li>
<li>Enable Programmable Clock module PCK1: <div class="fragment"><div class="line"><a class="code hl_function" href="group__sam__drivers__pmc__group.html#ga1c092ebde01d9748165bf3f556d82a57">pmc_enable_pck</a>(<a class="code hl_define" href="drivers_2pmc_2pmc_8h.html#a375e131fa6959bcf1322d11c0804d053">PMC_PCK_1</a>);</div>
</div><!-- fragment --></li>
<li>Enter an infinite loop: <div class="fragment"><div class="line"><span class="keywordflow">for</span> (;;)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Do Nothing</span></div>
<div class="line">}</div>
</div><!-- fragment --> </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
