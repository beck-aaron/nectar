<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: Provisioning</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Provisioning<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Here are listed all the functions that implement the Wifi Provisioning APIs.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Provisioning:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_p_r_o_v_i_s_i_o_n.gif" border="0" usemap="#agroup______w__l__a__n__p__r__o__v__i__s__i__o__n" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaed5a357462768913f525f728cdb390ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gaed5a357462768913f525f728cdb390ae">m2m_wifi_start_provision_mode</a> (<a class="el" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a> *pstrM2MAPConfig, char *pcHttpServerDomainName, <a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> bEnableHttpRedirect)</td></tr>
<tr class="memdesc:gaed5a357462768913f525f728cdb390ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API for control of Wi-Fi provisioning functionality.  <br /></td></tr>
<tr class="separator:gaed5a357462768913f525f728cdb390ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb605f9ef3ce3af36072b1ffca590a01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gadb605f9ef3ce3af36072b1ffca590a01">m2m_wifi_start_provision_mode_ext</a> (<a class="el" href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a> *pstrAPModeConfig, char *pcHttpServerDomainName, <a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> bEnableHttpRedirect)</td></tr>
<tr class="memdesc:gadb605f9ef3ce3af36072b1ffca590a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API for control of Wi-Fi provisioning functionality with extended options.  <br /></td></tr>
<tr class="separator:gadb605f9ef3ce3af36072b1ffca590a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32605c2ea60ccdf0187aae2ae47ef1ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#ga32605c2ea60ccdf0187aae2ae47ef1ad">m2m_wifi_stop_provision_mode</a> (void)</td></tr>
<tr class="memdesc:ga32605c2ea60ccdf0187aae2ae47ef1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous API for terminating provisioning mode on the WINC IC.  <br /></td></tr>
<tr class="separator:ga32605c2ea60ccdf0187aae2ae47ef1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Here are listed all the functions that implement the Wifi Provisioning APIs. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaed5a357462768913f525f728cdb390ae" name="gaed5a357462768913f525f728cdb390ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed5a357462768913f525f728cdb390ae">&#9670;&#160;</a></span>m2m_wifi_start_provision_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_start_provision_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a> *&#160;</td>
          <td class="paramname"><em>pstrAPConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pcHttpServerDomainName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>bEnableHttpRedirect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API for control of Wi-Fi provisioning functionality. </p>
<p>Asynchronous Wi-Fi provisioning function, which starts the WINC HTTP PROVISIONING mode. The function triggers the WINC to activate the Wi-Fi AP (HOTSPOT) mode with the passed configuration parameters and then starts the HTTP Provision WEB Server.</p>
<p>Provisioning status is returned in an event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pstrAPConfig</td><td>AP configuration parameters as defined in <a class="el" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a> configuration structure. If a NULL value is passed in, the call will result in a negative error <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pcHttpServerDomainName</td><td>Domain name of the HTTP Provision WEB server which others will use to load the provisioning Home page. The domain name can have one of the following 3 forms:<ul>
<li>1. "wincprov.com"</li>
<li>2. "http://wincprov.com"</li>
<li>3. "https://wincprov.com"</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Forms 1 and 2 are equivalent, they will both start a plain http server, while form 3 will start a secure HTTP provisioning Session (HTTP over SSL connection).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnableHttpRedirect</td><td>A flag to enable/disable the HTTP redirect feature. If Secure provisioning is enabled (i.e. the server domain name uses "https" prefix) this flag is ignored (no meaning for redirect in HTTPS). Possible values are:<ul>
<li>ZERO value, which means DO NOT use HTTP Redirect. In this case, the associated device could open the provisioning page ONLY when the HTTP Provision URL of the WINC HTTP Server is correctly written on the browser.</li>
<li>Non-Zero value, means use HTTP Redirect. In this case, all http traffic (<a href="http://URL">http://URL</a>) from the associated device (Phone, PC, etc) will be redirected to the WINC HTTP Provisioning Home page.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><br  />
<ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#gaff58ffb68d8c4126b61fa842005e0abb">tpfAppWifiCb</a> MUST be implemented and registered at startup. Registering the callback is done through passing it to the initialization <a class="el" href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a> function.</li>
<li>The event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a35767ad0217ab92b149bc77e79610d33">M2M_WIFI_RESP_CONN_INFO</a> must be handled in the callback to receive the requested connection info.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>DO NOT use ".local" in the pcHttpServerDomainName.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_callbacks.html#gaff58ffb68d8c4126b61fa842005e0abb" title="Wi-Fi&#39;s main callback function handler, for handling the M2M_WIFI events received on the Wi-Fi interf...">tpfAppWifiCb</a> <a class="el" href="group__m2m__wifi.html#ga73c734812e844d96d860c4e93e9daf35" title="Synchronous API to initialize the WINC driver.">m2m_wifi_init</a> <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a> <a class="el" href="group__m2m__wifi.html#gabb36a1847269710876b83ad174d1e01f" title="Synchronous API for terminating provisioning mode on the WINC IC.">m2m_wifi_stop_provision_mode</a> <a class="el" href="structtstr_m2_m_a_p_config.html" title="AP Configuration.">tstrM2MAPConfig</a></dd></dl>
<h1><a class="anchor" id="WIFIExample1"></a>
Example</h1>
<p>The example demonstrates a code snippet for how provisioning is triggered and the response event received accordingly.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="m2m__wifi_8h.html">m2m_wifi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="m2m__types_8h.html">m2m_types.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> wifi_event_cb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8WiFiEvent, <span class="keywordtype">void</span> * pvMsg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span>(u8WiFiEvent)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_m2_m_provision_info.html">tstrM2MProvisionInfo</a>    *pstrProvInfo = (<a class="code hl_struct" href="structtstr_m2_m_provision_info.html">tstrM2MProvisionInfo</a>*)pvMsg;</div>
<div class="line">            <span class="keywordflow">if</span>(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a4cbdc552da01af14f1cdb86820bdd46e">u8Status</a> == <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_struct" href="structtstr_network_id.html">tstrNetworkId</a>   strNetworkId = {<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>)strlen((<span class="keywordtype">char</span>*)(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>)), <a class="code hl_enumvalue" href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a>};</div>
<div class="line">                <a class="code hl_struct" href="structtstr_auth_psk.html">tstrAuthPsk</a>     strAuthPsk = {<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>)strlen((<span class="keywordtype">char</span>*)(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>))};</div>
<div class="line">                <a class="code hl_function" href="group___w_l_a_n_c_o_n_n_e_c_t.html#gaeda17fabd5a574c0e14362bd43b37e84">m2m_wifi_connect_psk</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga5669e8f0b3b645d5ece2519a33cf8c2ca6c7300873de793b2ca9342997d271ba7">WIFI_CRED_SAVE_ENCRYPTED</a>, &amp;strNetworkId, &amp;strAuthPsk);</div>
<div class="line"> </div>
<div class="line">                printf(<span class="stringliteral">&quot;PROV SSID : %s\n&quot;</span>,pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>);</div>
<div class="line">                printf(<span class="stringliteral">&quot;PROV PSK  : %s\n&quot;</span>,pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;(ERR) Provisioning Failed\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a>   param;</div>
<div class="line"> </div>
<div class="line">    param.<a class="code hl_variable" href="group__m2m__wifi.html#ga13d5fa7a0c71fd59bbf36a61923835cc">pfAppWifiCb</a>   = wifi_event_cb;</div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a>(&amp;param))</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a>     apConfig;</div>
<div class="line">        <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>               bEnableRedirect = 1;</div>
<div class="line"> </div>
<div class="line">        strcpy(apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a880b8f6aff1114bfb6a6f94b9351920f">au8SSID</a>, <span class="stringliteral">&quot;WINC_SSID&quot;</span>);</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a1425d62e5001c25d04d88e20582526e0">u8ListenChannel</a>    = 1;</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a08ec2faca4058e8627cbfdb20f6a6da5">u8SecType</a>          = <a class="code hl_enumvalue" href="group___wlan_enums.html#ggaa232a09c953ec8200c13774f94107b05a81b513753be791c13b73d0b2d3639b69">M2M_WIFI_SEC_OPEN</a>;</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a425c035bc96435d3a9e75082ce27b569">u8SsidHide</a>         = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// IP Address</span></div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[0] = 192;</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[1] = 168;</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[2] = 1;</div>
<div class="line">        apConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[3] = 1;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gaed5a357462768913f525f728cdb390ae">m2m_wifi_start_provision_mode</a>(&amp;apConfig, <span class="stringliteral">&quot;atmelwincconf.com&quot;</span>, bEnableRedirect);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span>(1)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="group___w_l_a_n_e_v_t_s.html#ga461a4edc057cec8c00cf124a07aa3b02">m2m_wifi_handle_events</a>(<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga9ef27ba27aafdd1aa3a79d3ba2c36b8f"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a></div><div class="ttdeci">#define M2M_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00054">nm_common.h:54</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga4df709a77647e870bbf1d955b8edc9a6"><div class="ttname"><a href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Range of values between 0 to 255.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00093">nm_bsp.h:93</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_c_o_n_n_e_c_t_html_gaeda17fabd5a574c0e14362bd43b37e84"><div class="ttname"><a href="group___w_l_a_n_c_o_n_n_e_c_t.html#gaeda17fabd5a574c0e14362bd43b37e84">m2m_wifi_connect_psk</a></div><div class="ttdeci">sint8 m2m_wifi_connect_psk(tenuCredStoreOption enuCredStoreOption, tstrNetworkId *pstrNetworkId, tstrAuthPsk *pstrAuthPsk)</div><div class="ttdoc">Asynchronous API to connect to an access point using WPA(2) PSK authentication.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00702">m2m_wifi.c:702</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_e_v_t_s_html_ga461a4edc057cec8c00cf124a07aa3b02"><div class="ttname"><a href="group___w_l_a_n_e_v_t_s.html#ga461a4edc057cec8c00cf124a07aa3b02">m2m_wifi_handle_events</a></div><div class="ttdeci">sint8 m2m_wifi_handle_events(void *arg)</div><div class="ttdoc">Synchronous M2M event handler function.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00540">m2m_wifi.c:540</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_ga73c734812e844d96d860c4e93e9daf35"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a></div><div class="ttdeci">sint8 m2m_wifi_init(tstrWifiInitParam *pWifiInitParam)</div><div class="ttdoc">Synchronous API to initialize the WINC driver.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00513">m2m_wifi.c:513</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_p_r_o_v_i_s_i_o_n_html_gaed5a357462768913f525f728cdb390ae"><div class="ttname"><a href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gaed5a357462768913f525f728cdb390ae">m2m_wifi_start_provision_mode</a></div><div class="ttdeci">sint8 m2m_wifi_start_provision_mode(tstrM2MAPConfig *pstrM2MAPConfig, char *pcHttpServerDomainName, uint8 bEnableHttpRedirect)</div><div class="ttdoc">Asynchronous API for control of Wi-Fi provisioning functionality.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l01723">m2m_wifi.c:1723</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637"><div class="ttname"><a href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a></div><div class="ttdeci">@ M2M_WIFI_CH_ALL</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l01273">m2m_types.h:1272</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga5669e8f0b3b645d5ece2519a33cf8c2ca6c7300873de793b2ca9342997d271ba7"><div class="ttname"><a href="group___wlan_enums.html#gga5669e8f0b3b645d5ece2519a33cf8c2ca6c7300873de793b2ca9342997d271ba7">WIFI_CRED_SAVE_ENCRYPTED</a></div><div class="ttdeci">@ WIFI_CRED_SAVE_ENCRYPTED</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00271">m2m_wifi.h:265</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a></div><div class="ttdeci">@ M2M_WIFI_RESP_PROVISION_INFO</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00878">m2m_types.h:875</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_ggaa232a09c953ec8200c13774f94107b05a81b513753be791c13b73d0b2d3639b69"><div class="ttname"><a href="group___wlan_enums.html#ggaa232a09c953ec8200c13774f94107b05a81b513753be791c13b73d0b2d3639b69">M2M_WIFI_SEC_OPEN</a></div><div class="ttdeci">@ M2M_WIFI_SEC_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l01215">m2m_types.h:1213</a></div></div>
<div class="ttc" id="agroup__m2m__wifi_html_ga13d5fa7a0c71fd59bbf36a61923835cc"><div class="ttname"><a href="group__m2m__wifi.html#ga13d5fa7a0c71fd59bbf36a61923835cc">tstrWifiInitParam::pfAppWifiCb</a></div><div class="ttdeci">tpfAppWifiCb pfAppWifiCb</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00380">m2m_wifi.h:380</a></div></div>
<div class="ttc" id="am2m__types_8h_html"><div class="ttname"><a href="m2m__types_8h.html">m2m_types.h</a></div><div class="ttdoc">WINC Application Interface Internal Types.</div></div>
<div class="ttc" id="am2m__wifi_8h_html"><div class="ttname"><a href="m2m__wifi_8h.html">m2m_wifi.h</a></div><div class="ttdoc">WINC WLAN Application Interface.</div></div>
<div class="ttc" id="amain_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdoc">Main application function.</div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00669">main.c:669</a></div></div>
<div class="ttc" id="astructtstr_auth_psk_html"><div class="ttname"><a href="structtstr_auth_psk.html">tstrAuthPsk</a></div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00413">m2m_wifi.h:413</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a></div><div class="ttdoc">AP Configuration.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02254">m2m_types.h:2254</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html_a08ec2faca4058e8627cbfdb20f6a6da5"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html#a08ec2faca4058e8627cbfdb20f6a6da5">tstrM2MAPConfig::u8SecType</a></div><div class="ttdeci">uint8 u8SecType</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02273">m2m_types.h:2273</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html_a1425d62e5001c25d04d88e20582526e0"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html#a1425d62e5001c25d04d88e20582526e0">tstrM2MAPConfig::u8ListenChannel</a></div><div class="ttdeci">uint8 u8ListenChannel</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02261">m2m_types.h:2261</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html_a425c035bc96435d3a9e75082ce27b569"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html#a425c035bc96435d3a9e75082ce27b569">tstrM2MAPConfig::u8SsidHide</a></div><div class="ttdeci">uint8 u8SsidHide</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02276">m2m_types.h:2276</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html_a880b8f6aff1114bfb6a6f94b9351920f"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html#a880b8f6aff1114bfb6a6f94b9351920f">tstrM2MAPConfig::au8SSID</a></div><div class="ttdeci">uint8 au8SSID[M2M_MAX_SSID_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02258">m2m_types.h:2258</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_html_aff8e8c8a78d1ca8e817f3d8cdbd9d9cd"><div class="ttname"><a href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">tstrM2MAPConfig::au8DHCPServerIP</a></div><div class="ttdeci">uint8 au8DHCPServerIP[4]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02279">m2m_types.h:2279</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_info_html"><div class="ttname"><a href="structtstr_m2_m_provision_info.html">tstrM2MProvisionInfo</a></div><div class="ttdoc">M2M Provisioning Information obtained from the HTTP Provisioning server.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02558">m2m_types.h:2558</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_info_html_a4cbdc552da01af14f1cdb86820bdd46e"><div class="ttname"><a href="structtstr_m2_m_provision_info.html#a4cbdc552da01af14f1cdb86820bdd46e">tstrM2MProvisionInfo::u8Status</a></div><div class="ttdeci">uint8 u8Status</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02571">m2m_types.h:2571</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_info_html_a691f5a03fe19543b36d6356f64202a10"><div class="ttname"><a href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">tstrM2MProvisionInfo::au8SSID</a></div><div class="ttdeci">uint8 au8SSID[M2M_MAX_SSID_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02559">m2m_types.h:2559</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_info_html_a7ebd36dbe6c213bbe484c8825f8d651e"><div class="ttname"><a href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">tstrM2MProvisionInfo::au8Password</a></div><div class="ttdeci">uint8 au8Password[M2M_MAX_PSK_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02563">m2m_types.h:2563</a></div></div>
<div class="ttc" id="astructtstr_network_id_html"><div class="ttname"><a href="structtstr_network_id.html">tstrNetworkId</a></div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00385">m2m_wifi.h:385</a></div></div>
<div class="ttc" id="astructtstr_wifi_init_param_html"><div class="ttname"><a href="structtstr_wifi_init_param.html">tstrWifiInitParam</a></div><div class="ttdoc">Structure, holding the Wi-fi configuration attributes such as the wi-fi callback ,...</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00379">m2m_wifi.h:379</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01723">1723</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1724</span>{</div>
<div class="line"><span class="lineno"> 1725</span>    <a class="code hl_struct" href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a> strM2MAPModeConfig;</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span>    <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *)&amp;strM2MAPModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *)pstrM2MAPConfig, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a>));</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>    <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>(strM2MAPModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#adcf17c58836eff5f7609d9e907332cc0">au8DefRouterIP</a>, pstrM2MAPConfig-&gt;au8DHCPServerIP, 4);</div>
<div class="line"><span class="lineno"> 1730</span>    <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>(strM2MAPModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#afbd258d3215774caa15648b260bff462">au8DNSServerIP</a>, pstrM2MAPConfig-&gt;au8DHCPServerIP, 4);</div>
<div class="line"><span class="lineno"> 1731</span>    strM2MAPModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">au8SubnetMask</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 1732</span> </div>
<div class="line"><span class="lineno"> 1733</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gadb605f9ef3ce3af36072b1ffca590a01">m2m_wifi_start_provision_mode_ext</a>(&amp;strM2MAPModeConfig, pcHttpServerDomainName, bEnableHttpRedirect);</div>
<div class="line"><span class="lineno"> 1734</span>}</div>
<div class="ttc" id="agroup___c_o_m_m_o_n_a_p_i_html_ga28b094db63be31612f7d2c5af692d3a5"><div class="ttname"><a href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a></div><div class="ttdeci">void m2m_memcpy(uint8 *pDst, uint8 *pSrc, uint32 sz)</div><div class="ttdoc">Copy specified number of bytes from source buffer to destination buffer.</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8c_source.html#l00036">nm_common.c:36</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_p_r_o_v_i_s_i_o_n_html_gadb605f9ef3ce3af36072b1ffca590a01"><div class="ttname"><a href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gadb605f9ef3ce3af36072b1ffca590a01">m2m_wifi_start_provision_mode_ext</a></div><div class="ttdeci">sint8 m2m_wifi_start_provision_mode_ext(tstrM2MAPModeConfig *pstrAPModeConfig, char *pcHttpServerDomainName, uint8 bEnableHttpRedirect)</div><div class="ttdoc">Asynchronous API for control of Wi-Fi provisioning functionality with extended options.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l01736">m2m_wifi.c:1736</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_ext_html_a049cd3dbe54660c2c976749a81eb0e78"><div class="ttname"><a href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">tstrM2MAPConfigExt::au8SubnetMask</a></div><div class="ttdeci">uint8 au8SubnetMask[4]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02316">m2m_types.h:2316</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_ext_html_adcf17c58836eff5f7609d9e907332cc0"><div class="ttname"><a href="structtstr_m2_m_a_p_config_ext.html#adcf17c58836eff5f7609d9e907332cc0">tstrM2MAPConfigExt::au8DefRouterIP</a></div><div class="ttdeci">uint8 au8DefRouterIP[4]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02310">m2m_types.h:2310</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_ext_html_afbd258d3215774caa15648b260bff462"><div class="ttname"><a href="structtstr_m2_m_a_p_config_ext.html#afbd258d3215774caa15648b260bff462">tstrM2MAPConfigExt::au8DNSServerIP</a></div><div class="ttdeci">uint8 au8DNSServerIP[4]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02313">m2m_types.h:2313</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_mode_config_html"><div class="ttname"><a href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a></div><div class="ttdoc">AP Configuration.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02338">m2m_types.h:2338</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_mode_config_html_a6255dcc8c458d29c9ed628c51eb6b366"><div class="ttname"><a href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">tstrM2MAPModeConfig::strApConfigExt</a></div><div class="ttdeci">tstrM2MAPConfigExt strApConfigExt</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02343">m2m_types.h:2343</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_mode_config_html_ac7948d8cc464ef082bf766f8cae0815b"><div class="ttname"><a href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">tstrM2MAPModeConfig::strApConfig</a></div><div class="ttdeci">tstrM2MAPConfig strApConfig</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02339">m2m_types.h:2339</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__types_8h_source.html#l02310">tstrM2MAPConfigExt::au8DefRouterIP</a>, <a class="el" href="m2m__types_8h_source.html#l02279">tstrM2MAPConfig::au8DHCPServerIP</a>, <a class="el" href="m2m__types_8h_source.html#l02313">tstrM2MAPConfigExt::au8DNSServerIP</a>, <a class="el" href="m2m__types_8h_source.html#l02316">tstrM2MAPConfigExt::au8SubnetMask</a>, <a class="el" href="nm__common_8c_source.html#l00036">m2m_memcpy()</a>, <a class="el" href="m2m__wifi_8c_source.html#l01736">m2m_wifi_start_provision_mode_ext()</a>, <a class="el" href="m2m__types_8h_source.html#l02339">tstrM2MAPModeConfig::strApConfig</a>, and <a class="el" href="m2m__types_8h_source.html#l02343">tstrM2MAPModeConfig::strApConfigExt</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_p_r_o_v_i_s_i_o_n_gaed5a357462768913f525f728cdb390ae_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_p_r_o_v_i_s_i_o_n_gaed5a357462768913f525f728cdb390ae_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gadb605f9ef3ce3af36072b1ffca590a01" name="gadb605f9ef3ce3af36072b1ffca590a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb605f9ef3ce3af36072b1ffca590a01">&#9670;&#160;</a></span>m2m_wifi_start_provision_mode_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_start_provision_mode_ext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a> *&#160;</td>
          <td class="paramname"><em>pstrAPModeConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pcHttpServerDomainName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>bEnableHttpRedirect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API for control of Wi-Fi provisioning functionality with extended options. </p>
<p>Asynchronous Wi-Fi provisioning function, which starts the WINC HTTP PROVISIONING mode. The function triggers the WINC to activate the Wi-Fi AP (HOTSPOT) mode with the passed configuration parameters and then starts the HTTP Provision WEB Server.</p>
<p>Provisioning status is returned in an event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pstrAPModeConfig</td><td>AP configuration parameters as defined in <a class="el" href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a> configuration structure. A NULL value passed in, will result in a negative error <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pcHttpServerDomainName</td><td>Domain name of the HTTP Provision WEB server which others will use to load the provisioning Home page. The domain name can have one of the following 3 forms:<ul>
<li>1. "wincprov.com"</li>
<li>2. "http://wincprov.com"</li>
<li>3. "https://wincprov.com"</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The forms 1 and 2 are equivalent, they both will start a plain http server, while form 3 will start a secure HTTP provisioning Session (HTTP over SSL connection).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnableHttpRedirect</td><td>A flag to enable/disable the HTTP redirect feature. If Secure provisioning is enabled (i.e. the server domain name uses "https" prefix) this flag is ignored (no meaning for redirect in HTTPS). Possible values are:<ul>
<li>ZERO value, which means DO NOT use HTTP Redirect. In this case, the associated device could open the provisioning page ONLY when the HTTP Provision URL of the WINC HTTP Server is correctly written on the browser.</li>
<li>Non-Zero value, means use HTTP Redirect. In this case, all http traffic (<a href="http://URL">http://URL</a>) from the associated device (Phone, PC, etc) will be redirected to the WINC HTTP Provisioning Home page.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#gaff58ffb68d8c4126b61fa842005e0abb">tpfAppWifiCb</a> MUST be implemented and registered at startup. Registering the callback is done through passing it to the initialization <a class="el" href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a> function.</li>
<li>The event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a35767ad0217ab92b149bc77e79610d33">M2M_WIFI_RESP_CONN_INFO</a> must be handled in the callback to receive the requested connection info.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>DO Not use ".local" in the pcHttpServerDomainName.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_callbacks.html#gaff58ffb68d8c4126b61fa842005e0abb" title="Wi-Fi&#39;s main callback function handler, for handling the M2M_WIFI events received on the Wi-Fi interf...">tpfAppWifiCb</a> <a class="el" href="group__m2m__wifi.html#ga73c734812e844d96d860c4e93e9daf35" title="Synchronous API to initialize the WINC driver.">m2m_wifi_init</a> <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a> <a class="el" href="group__m2m__wifi.html#gabb36a1847269710876b83ad174d1e01f" title="Synchronous API for terminating provisioning mode on the WINC IC.">m2m_wifi_stop_provision_mode</a> <a class="el" href="structtstr_m2_m_a_p_mode_config.html" title="AP Configuration.">tstrM2MAPModeConfig</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<h1><a class="anchor" id="WIFIExample1b"></a>
Example</h1>
<p>The example demonstrates a code snippet for how provisioning is triggered and the response event received accordingly.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="m2m__wifi_8h.html">m2m_wifi.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="m2m__types_8h.html">m2m_types.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> wifi_event_cb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8WiFiEvent, <span class="keywordtype">void</span> * pvMsg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span>(u8WiFiEvent)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a4b4a55c41771f106a578b7253c63dede">M2M_WIFI_RESP_PROVISION_INFO</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_m2_m_provision_info.html">tstrM2MProvisionInfo</a>    *pstrProvInfo = (<a class="code hl_struct" href="structtstr_m2_m_provision_info.html">tstrM2MProvisionInfo</a>*)pvMsg;</div>
<div class="line">            <span class="keywordflow">if</span>(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a4cbdc552da01af14f1cdb86820bdd46e">u8Status</a> == <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_struct" href="structtstr_network_id.html">tstrNetworkId</a>   strNetworkId = {<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>)strlen((<span class="keywordtype">char</span>*)(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>)), <a class="code hl_enumvalue" href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a>};</div>
<div class="line">                <a class="code hl_struct" href="structtstr_auth_psk.html">tstrAuthPsk</a>     strAuthPsk = {<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>)strlen((<span class="keywordtype">char</span>*)(pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>))};</div>
<div class="line">                <a class="code hl_function" href="group___w_l_a_n_c_o_n_n_e_c_t.html#gaeda17fabd5a574c0e14362bd43b37e84">m2m_wifi_connect_psk</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga5669e8f0b3b645d5ece2519a33cf8c2ca6c7300873de793b2ca9342997d271ba7">WIFI_CRED_SAVE_ENCRYPTED</a>, &amp;strNetworkId, &amp;strAuthPsk);</div>
<div class="line"> </div>
<div class="line">                printf(<span class="stringliteral">&quot;PROV SSID : %s\n&quot;</span>,pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a691f5a03fe19543b36d6356f64202a10">au8SSID</a>);</div>
<div class="line">                printf(<span class="stringliteral">&quot;PROV PSK  : %s\n&quot;</span>,pstrProvInfo-&gt;<a class="code hl_variable" href="structtstr_m2_m_provision_info.html#a7ebd36dbe6c213bbe484c8825f8d651e">au8Password</a>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;(ERR) Provisioning Failed\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a>   param;</div>
<div class="line"> </div>
<div class="line">    param.<a class="code hl_variable" href="group__m2m__wifi.html#ga13d5fa7a0c71fd59bbf36a61923835cc">pfAppWifiCb</a>   = wifi_event_cb;</div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a>(&amp;param))</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structtstr_m2_m_a_p_mode_config.html">tstrM2MAPModeConfig</a> apModeConfig;</div>
<div class="line">        <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>               bEnableRedirect = 1;</div>
<div class="line">        </div>
<div class="line">        strcpy(apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a880b8f6aff1114bfb6a6f94b9351920f">au8SSID</a>, <span class="stringliteral">&quot;WINC_SSID&quot;</span>);</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a1425d62e5001c25d04d88e20582526e0">u8ListenChannel</a>    = 1;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a08ec2faca4058e8627cbfdb20f6a6da5">u8SecType</a>          = <a class="code hl_enumvalue" href="group___wlan_enums.html#ggaa232a09c953ec8200c13774f94107b05a81b513753be791c13b73d0b2d3639b69">M2M_WIFI_SEC_OPEN</a>;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#a425c035bc96435d3a9e75082ce27b569">u8SsidHide</a>         = 0;</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// IP Address</span></div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[0] = 192;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[1] = 168;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[2] = 1;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>[3] = 1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Default router IP</span></div>
<div class="line">        <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>(apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#adcf17c58836eff5f7609d9e907332cc0">au8DefRouterIP</a>, apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>, 4);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// DNS Server IP</span></div>
<div class="line">        <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>(apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#afbd258d3215774caa15648b260bff462">au8DNSServerIP</a>, apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config.html#aff8e8c8a78d1ca8e817f3d8cdbd9d9cd">au8DHCPServerIP</a>, 4);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Subnet mask</span></div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">au8SubnetMask</a>[0]    = 255;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">au8SubnetMask</a>[1]    = 255;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">au8SubnetMask</a>[2]    = 255;</div>
<div class="line">        apModeConfig.<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>.<a class="code hl_variable" href="structtstr_m2_m_a_p_config_ext.html#a049cd3dbe54660c2c976749a81eb0e78">au8SubnetMask</a>[3]    = 0;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group___w_l_a_n_p_r_o_v_i_s_i_o_n.html#gadb605f9ef3ce3af36072b1ffca590a01">m2m_wifi_start_provision_mode_ext</a>(&amp;apModeConfig, <span class="stringliteral">&quot;atmelwincconf.com&quot;</span>, bEnableRedirect);</div>
<div class="line">                    </div>
<div class="line">        <span class="keywordflow">while</span>(1)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="group___w_l_a_n_e_v_t_s.html#ga461a4edc057cec8c00cf124a07aa3b02">m2m_wifi_handle_events</a>(<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01736">1736</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1737</span>{</div>
<div class="line"><span class="lineno"> 1738</span>    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>   s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"><span class="lineno"> 1739</span> </div>
<div class="line"><span class="lineno"> 1740</span>    <span class="keywordflow">if</span>(pstrAPModeConfig != <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1741</span>    {</div>
<div class="line"><span class="lineno"> 1742</span>        <a class="code hl_struct" href="structtstr_m2_m_provision_mode_config.html">tstrM2MProvisionModeConfig</a>  strProvConfig;</div>
<div class="line"><span class="lineno"> 1743</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> == <a class="code hl_function" href="group__winc1500__group.html#ga899e5e006fb3d76bed76428fc575c9da">m2m_validate_ap_parameters</a>(pstrAPModeConfig))</div>
<div class="line"><span class="lineno"> 1744</span>        {</div>
<div class="line"><span class="lineno"> 1745</span>            <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;strProvConfig.<a class="code hl_variable" href="structtstr_m2_m_provision_mode_config.html#ab71d1438494fc7a76b9ee8d4cec18487">strApConfig</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;pstrAPModeConfig-&gt;<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#ac7948d8cc464ef082bf766f8cae0815b">strApConfig</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_m2_m_a_p_config.html">tstrM2MAPConfig</a>));</div>
<div class="line"><span class="lineno"> 1746</span>            <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;strProvConfig.<a class="code hl_variable" href="structtstr_m2_m_provision_mode_config.html#aeb752cfdb23ff363eac11a56ad18588c">strApConfigExt</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;pstrAPModeConfig-&gt;<a class="code hl_variable" href="structtstr_m2_m_a_p_mode_config.html#a6255dcc8c458d29c9ed628c51eb6b366">strApConfigExt</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_m2_m_a_p_config_ext.html">tstrM2MAPConfigExt</a>));</div>
<div class="line"><span class="lineno"> 1747</span>            <span class="keywordflow">if</span>((<a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga7ab2c19ce29ea364fb1653765732172f">m2m_strlen</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *)pcHttpServerDomainName) &lt;= 0) || (<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == pcHttpServerDomainName))</div>
<div class="line"><span class="lineno"> 1748</span>            {</div>
<div class="line"><span class="lineno"> 1749</span>                <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;INVALID DOMAIN NAME\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1750</span>                <span class="keywordflow">goto</span> ERR1;</div>
<div class="line"><span class="lineno"> 1751</span>            }</div>
<div class="line"><span class="lineno"> 1752</span>            <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga28b094db63be31612f7d2c5af692d3a5">m2m_memcpy</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)strProvConfig.<a class="code hl_variable" href="structtstr_m2_m_provision_mode_config.html#aa33a41d0c1a74c676f83b4400a1aa5f0">acHttpServerDomainName</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)pcHttpServerDomainName, 64);</div>
<div class="line"><span class="lineno"> 1753</span>            strProvConfig.<a class="code hl_variable" href="structtstr_m2_m_provision_mode_config.html#a786f6fc9d6aae5379f1a7c2c7d992620">u8EnableRedirect</a> = bEnableHttpRedirect;</div>
<div class="line"><span class="lineno"> 1754</span>        </div>
<div class="line"><span class="lineno"> 1755</span>            <span class="comment">/* Stop Scan if it is ongoing.</span></div>
<div class="line"><span class="lineno"> 1756</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno"> 1757</span>            <a class="code hl_variable" href="group__winc1500__group.html#ga76295f775841fc0f6533603c99da618e">gu8scanInProgress</a> = 0;</div>
<div class="line"><span class="lineno"> 1758</span>            s8Ret = <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a08ede369bb516d86cd5fe3e9d5da0f08">M2M_WIFI_REQ_START_PROVISION_MODE</a> | <a class="code hl_enumvalue" href="group___wlan_enums.html#gga692b42dca76922a269ddad2635854abda4ba55ee3c10f0b8175bba12f4b39a499">M2M_REQ_DATA_PKT</a>, </div>
<div class="line"><span class="lineno"> 1759</span>                        (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;strProvConfig, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_m2_m_provision_mode_config.html">tstrM2MProvisionModeConfig</a>), <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno"> 1760</span>        }</div>
<div class="line"><span class="lineno"> 1761</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1762</span>        {</div>
<div class="line"><span class="lineno"> 1763</span>            <span class="comment">/*goto ERR1;*/</span></div>
<div class="line"><span class="lineno"> 1764</span>        }</div>
<div class="line"><span class="lineno"> 1765</span>    }</div>
<div class="line"><span class="lineno"> 1766</span>ERR1:</div>
<div class="line"><span class="lineno"> 1767</span>    <span class="keywordflow">return</span> s8Ret;</div>
<div class="line"><span class="lineno"> 1768</span>}</div>
<div class="ttc" id="agroup___c_o_m_m_o_n_a_p_i_html_ga7ab2c19ce29ea364fb1653765732172f"><div class="ttname"><a href="group___c_o_m_m_o_n_a_p_i.html#ga7ab2c19ce29ea364fb1653765732172f">m2m_strlen</a></div><div class="ttdeci">uint16 m2m_strlen(uint8 *pcStr)</div><div class="ttdoc">Returns the length of a null terminated string buffer.</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8c_source.html#l00068">nm_common.c:68</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga39ed05df730834f2255971ca9879996e"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a></div><div class="ttdeci">#define M2M_ERR_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00066">nm_common.h:66</a></div></div>
<div class="ttc" id="agroup___data_t_html_gae35f10ffd0ac8dd2bc3e794da9bdfbc7"><div class="ttname"><a href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a></div><div class="ttdeci">signed char sint8</div><div class="ttdoc">Range of values between -128 to 127.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00114">nm_bsp.h:114</a></div></div>
<div class="ttc" id="agroup___debug_defines_html_ga34d005df494e50b05cd38b80f318d7ac"><div class="ttname"><a href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a></div><div class="ttdeci">#define M2M_ERR(...)</div><div class="ttdef"><b>Definition:</b> <a href="nm__debug_8h_source.html#l00060">nm_debug.h:60</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a08ede369bb516d86cd5fe3e9d5da0f08"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a08ede369bb516d86cd5fe3e9d5da0f08">M2M_WIFI_REQ_START_PROVISION_MODE</a></div><div class="ttdeci">@ M2M_WIFI_REQ_START_PROVISION_MODE</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00874">m2m_types.h:871</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga692b42dca76922a269ddad2635854abda4ba55ee3c10f0b8175bba12f4b39a499"><div class="ttname"><a href="group___wlan_enums.html#gga692b42dca76922a269ddad2635854abda4ba55ee3c10f0b8175bba12f4b39a499">M2M_REQ_DATA_PKT</a></div><div class="ttdeci">@ M2M_REQ_DATA_PKT</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00834">m2m_types.h:833</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966"><div class="ttname"><a href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a></div><div class="ttdeci">@ M2M_REQ_GROUP_WIFI</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00815">m2m_types.h:815</a></div></div>
<div class="ttc" id="agroup__winc1500__group_html_ga76295f775841fc0f6533603c99da618e"><div class="ttname"><a href="group__winc1500__group.html#ga76295f775841fc0f6533603c99da618e">gu8scanInProgress</a></div><div class="ttdeci">static volatile uint8 gu8scanInProgress</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00070">m2m_wifi.c:70</a></div></div>
<div class="ttc" id="agroup__winc1500__group_html_ga899e5e006fb3d76bed76428fc575c9da"><div class="ttname"><a href="group__winc1500__group.html#ga899e5e006fb3d76bed76428fc575c9da">m2m_validate_ap_parameters</a></div><div class="ttdeci">static sint8 m2m_validate_ap_parameters(CONST tstrM2MAPModeConfig *pstrM2MAPModeConfig)</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00309">m2m_wifi.c:309</a></div></div>
<div class="ttc" id="am2m__hif_8c_html_a13ba8ad11b2ac39516ca787386d16ce0"><div class="ttname"><a href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a></div><div class="ttdeci">sint8 hif_send(uint8 u8Gid, uint8 u8Opcode, uint8 *pu8CtrlBuf, uint16 u16CtrlBufSize, uint8 *pu8DataBuf, uint16 u16DataSize, uint16 u16DataOffset)</div><div class="ttdoc">Send packet using host interface.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__hif_8c_source.html#l00293">m2m_hif.c:293</a></div></div>
<div class="ttc" id="astructtstr_m2_m_a_p_config_ext_html"><div class="ttname"><a href="structtstr_m2_m_a_p_config_ext.html">tstrM2MAPConfigExt</a></div><div class="ttdoc">AP Configuration Extension.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02309">m2m_types.h:2309</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_mode_config_html"><div class="ttname"><a href="structtstr_m2_m_provision_mode_config.html">tstrM2MProvisionModeConfig</a></div><div class="ttdoc">M2M Provisioning Mode Configuration.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02521">m2m_types.h:2521</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_mode_config_html_a786f6fc9d6aae5379f1a7c2c7d992620"><div class="ttname"><a href="structtstr_m2_m_provision_mode_config.html#a786f6fc9d6aae5379f1a7c2c7d992620">tstrM2MProvisionModeConfig::u8EnableRedirect</a></div><div class="ttdeci">uint8 u8EnableRedirect</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02530">m2m_types.h:2530</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_mode_config_html_aa33a41d0c1a74c676f83b4400a1aa5f0"><div class="ttname"><a href="structtstr_m2_m_provision_mode_config.html#aa33a41d0c1a74c676f83b4400a1aa5f0">tstrM2MProvisionModeConfig::acHttpServerDomainName</a></div><div class="ttdeci">char acHttpServerDomainName[64]</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02526">m2m_types.h:2526</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_mode_config_html_ab71d1438494fc7a76b9ee8d4cec18487"><div class="ttname"><a href="structtstr_m2_m_provision_mode_config.html#ab71d1438494fc7a76b9ee8d4cec18487">tstrM2MProvisionModeConfig::strApConfig</a></div><div class="ttdeci">tstrM2MAPConfig strApConfig</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02522">m2m_types.h:2522</a></div></div>
<div class="ttc" id="astructtstr_m2_m_provision_mode_config_html_aeb752cfdb23ff363eac11a56ad18588c"><div class="ttname"><a href="structtstr_m2_m_provision_mode_config.html#aeb752cfdb23ff363eac11a56ad18588c">tstrM2MProvisionModeConfig::strApConfigExt</a></div><div class="ttdeci">tstrM2MAPConfigExt strApConfigExt</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l02537">m2m_types.h:2537</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__types_8h_source.html#l02526">tstrM2MProvisionModeConfig::acHttpServerDomainName</a>, <a class="el" href="m2m__wifi_8c_source.html#l00070">gu8scanInProgress</a>, <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="nm__debug_8h_source.html#l00060">M2M_ERR</a>, <a class="el" href="nm__common_8h_source.html#l00066">M2M_ERR_FAIL</a>, <a class="el" href="nm__common_8c_source.html#l00036">m2m_memcpy()</a>, <a class="el" href="m2m__types_8h_source.html#l00833">M2M_REQ_DATA_PKT</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="nm__common_8c_source.html#l00068">m2m_strlen()</a>, <a class="el" href="nm__common_8h_source.html#l00054">M2M_SUCCESS</a>, <a class="el" href="m2m__wifi_8c_source.html#l00309">m2m_validate_ap_parameters()</a>, <a class="el" href="m2m__types_8h_source.html#l00871">M2M_WIFI_REQ_START_PROVISION_MODE</a>, <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>, <a class="el" href="m2m__types_8h_source.html#l02339">tstrM2MAPModeConfig::strApConfig</a>, <a class="el" href="m2m__types_8h_source.html#l02522">tstrM2MProvisionModeConfig::strApConfig</a>, <a class="el" href="m2m__types_8h_source.html#l02343">tstrM2MAPModeConfig::strApConfigExt</a>, <a class="el" href="m2m__types_8h_source.html#l02537">tstrM2MProvisionModeConfig::strApConfigExt</a>, and <a class="el" href="m2m__types_8h_source.html#l02530">tstrM2MProvisionModeConfig::u8EnableRedirect</a>.</p>

<p class="reference">Referenced by <a class="el" href="m2m__wifi_8c_source.html#l01723">m2m_wifi_start_provision_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_p_r_o_v_i_s_i_o_n_gadb605f9ef3ce3af36072b1ffca590a01_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_p_r_o_v_i_s_i_o_n_gadb605f9ef3ce3af36072b1ffca590a01_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga32605c2ea60ccdf0187aae2ae47ef1ad" name="ga32605c2ea60ccdf0187aae2ae47ef1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32605c2ea60ccdf0187aae2ae47ef1ad">&#9670;&#160;</a></span>m2m_wifi_stop_provision_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_wifi_stop_provision_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous API for terminating provisioning mode on the WINC IC. </p>
<p><br  />
 This function will terminate any currently active provisioning mode on the WINC IC, returning the IC to idle.</p>
<dl class="section pre"><dt>Precondition</dt><dd>An active provisioning session must be active before it is terminated through this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga2a563f0dd90d3c2e14c596662bc990f7" title="Asynchronous API for control of Wi-Fi provisioning functionality.">m2m_wifi_start_provision_mode</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__wifi_8c_source.html#l01770">1770</a> of file <a class="el" href="m2m__wifi_8c_source.html">m2m_wifi.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1771</span>{</div>
<div class="line"><span class="lineno"> 1772</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a099c9ef1660077850adc6604de8c8966">M2M_REQ_GROUP_WIFI</a>, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a89d8bf1075078adc36245478f62be87f">M2M_WIFI_REQ_STOP_PROVISION_MODE</a>, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno"> 1773</span>}</div>
<div class="ttc" id="agroup___wlan_enums_html_gga57466b36df595c593e7ccc9892e14b20a89d8bf1075078adc36245478f62be87f"><div class="ttname"><a href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20a89d8bf1075078adc36245478f62be87f">M2M_WIFI_REQ_STOP_PROVISION_MODE</a></div><div class="ttdeci">@ M2M_WIFI_REQ_STOP_PROVISION_MODE</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00882">m2m_types.h:879</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="m2m__types_8h_source.html#l00815">M2M_REQ_GROUP_WIFI</a>, <a class="el" href="m2m__types_8h_source.html#l00879">M2M_WIFI_REQ_STOP_PROVISION_MODE</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___w_l_a_n_p_r_o_v_i_s_i_o_n_ga32605c2ea60ccdf0187aae2ae47ef1ad_cgraph.gif" border="0" usemap="#agroup___w_l_a_n_p_r_o_v_i_s_i_o_n_ga32605c2ea60ccdf0187aae2ae47ef1ad_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
