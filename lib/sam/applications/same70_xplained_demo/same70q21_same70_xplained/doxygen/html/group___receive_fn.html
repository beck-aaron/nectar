<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: recv</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">recv<div class="ingroups"><a class="el" href="group___socket_header.html">Socket</a> &raquo; <a class="el" href="group___socket_a_p_i.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>An asynchronous receive function, used to retrieve data from a TCP stream.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for recv:</div>
<div class="dyncontent">
<div class="center"><img src="group___receive_fn.gif" border="0" usemap="#agroup______receive__fn" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafb96ba8adac96c7f6cc0d6c257418e17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gabed6316797860370475b730ceb545332">sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___receive_fn.html#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> (<a class="el" href="group___socket_enums.html#ga2faec34c3ab009cb46027b818c0b0d06">SOCKET</a> sock, void *pvRecvBuf, <a class="el" href="group___data_t.html#ga1daa745171fc6e31d942c161422a76f9">uint16</a> u16BufLen, <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Timeoutmsec)</td></tr>
<tr class="separator:gafb96ba8adac96c7f6cc0d6c257418e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>An asynchronous receive function, used to retrieve data from a TCP stream. </p>
<p>Before calling the recv function, a successful socket connection status must have been received through any of the two socket events <a class="el" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6ad026eed3b54701f8d052add4b4f547a5">SOCKET_MSG_CONNECT</a> or <a class="el" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a>, from the socket callback. Hence, indicating that the socket is already connected to a remote host. The application receives the required data in response to this asynchronous call through the reception of the event <a class="el" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a> in the socket callback.</p>
<p>Receiving the SOCKET_MSG_RECV message in the callback with zero or negative buffer length indicates the following: <a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> : Socket connection closed. The application should now call <a class="el" href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close()</a>. <a class="el" href="group___socket_error_code.html#ga01823c4a616a2473abb8f3f8417c1df8">SOCK_ERR_CONN_ABORTED</a> : Socket connection aborted. The application should now call <a class="el" href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close()</a>. <a class="el" href="group___socket_error_code.html#ga718ed6a0a949466e5dc13431e0a2f9a4">SOCK_ERR_TIMEOUT</a> : Socket receive timed out. The socket connection remains open. The application code is expected to close the socket through the call to the <a class="el" href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close</a> function upon the appearance of the above mentioned errors. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafb96ba8adac96c7f6cc0d6c257418e17" name="gafb96ba8adac96c7f6cc0d6c257418e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb96ba8adac96c7f6cc0d6c257418e17">&#9670;&#160;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gabed6316797860370475b730ceb545332">sint16</a> recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga2faec34c3ab009cb46027b818c0b0d06">SOCKET</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvRecvBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga1daa745171fc6e31d942c161422a76f9">uint16</a>&#160;</td>
          <td class="paramname"><em>u16BufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32Timeoutmsec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pvRecvBuf</td><td>Pointer to a buffer that will hold the received data. The buffer is used in the recv callback to deliver the received data to the caller. The buffer must be resident in memory (heap or global buffer).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u16BufLen</td><td>The buffer size in bytes.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Timeoutmsec</td><td>Timeout for the recv function in milli-seconds. If the value is set to ZERO, the timeout will be set to infinite (the recv function waits forever). If the timeout period is elapsed with no data received, the socket will get a timeout error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>The socket function must be called to allocate a TCP socket before passing the socket ID to the recv function.</li>
<li>The socket in a connected state is expected to receive data through the socket interface.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___socket_fn.html#gaec529015922aefe85bb0c0fa1bef761b">socket</a> </dd>
<dd>
<a class="el" href="group___connect_fn.html#ga0c6fead3153f45eb4c862590d2a64122">connect</a> </dd>
<dd>
<a class="el" href="group___bind_fn.html#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> </dd>
<dd>
<a class="el" href="group___listen_fn.html#ga64a01a865709a621b249aaac455f9e8b">listen</a> </dd>
<dd>
<a class="el" href="group___receive_from_socket_fn.html#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> </dd>
<dd>
<a class="el" href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returns ZERO for successful operations and a negative value otherwise. The possible error values are:<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> Indicating that the operation was successful.</li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> Indicating passing invalid arguments such as negative socket ID or NULL Receive buffer.</li>
<li><a class="el" href="group___socket_error_code.html#ga327a62f01f2b0d7b732bea32612acc42">SOCK_ERR_BUFFER_FULL</a> Indicate socket receive failure. </li>
</ul>
</dd></dl>
<h1><a class="anchor" id="recv_Ex"></a>
Example</h1>
<p>The example demonstrates a code snippet for the calling of the recv function in the socket callback upon notification of the accept or connect events, and the parsing of the received data when the <a class="el" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a> event is received. </p><div class="fragment"><div class="line">    <span class="keywordflow">switch</span>(u8Msg)</div>
<div class="line">    {   </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a> *pstrAccept = (<a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a>*)pvMsg;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(pstrAccept-&gt;<a class="code hl_variable" href="structtstr_socket_accept_msg.html#a9ecd3f07483bb5a5dd0cef66ed283483">sock</a> &gt;= 0)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_function" href="group___receive_fn.html#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a>(pstrAccept-&gt;<a class="code hl_variable" href="structtstr_socket_accept_msg.html#a9ecd3f07483bb5a5dd0cef66ed283483">sock</a>,gau8RxBuffer,<span class="keyword">sizeof</span>(gau8RxBuffer),TEST_RECV_TIMEOUT);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;accept\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a>   *pstrRx = (<a class="code hl_struct" href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a>*)pvMsg;</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span>(pstrRx-&gt;<a class="code hl_variable" href="structtstr_socket_recv_msg.html#a7db57088ce0883c0e92acf50bdd7395d">s16BufferSize</a> &gt; 0)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_function" href="group___receive_fn.html#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a>(sock,gau8RxBuffer,<span class="keyword">sizeof</span>(gau8RxBuffer),TEST_RECV_TIMEOUT);         </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;Socket recv Error: %d\n&quot;</span>,pstrRx-&gt;<a class="code hl_variable" href="structtstr_socket_recv_msg.html#a7db57088ce0883c0e92acf50bdd7395d">s16BufferSize</a>);</div>
<div class="line">                <a class="code hl_function" href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close</a>(sock);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___async_callback_html_gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133"><div class="ttname"><a href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a></div><div class="ttdeci">@ SOCKET_MSG_RECV</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00794">socket.h:791</a></div></div>
<div class="ttc" id="agroup___async_callback_html_gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682"><div class="ttname"><a href="group___async_callback.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a></div><div class="ttdeci">@ SOCKET_MSG_ACCEPT</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00786">socket.h:783</a></div></div>
<div class="ttc" id="agroup___close_socket_fn_html_ga0bd24b8455319e7c40b61a0835b25bb1"><div class="ttname"><a href="group___close_socket_fn.html#ga0bd24b8455319e7c40b61a0835b25bb1">close</a></div><div class="ttdeci">sint8 close(SOCKET sock)</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00995">socket.c:995</a></div></div>
<div class="ttc" id="agroup___debug_defines_html_ga34d005df494e50b05cd38b80f318d7ac"><div class="ttname"><a href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a></div><div class="ttdeci">#define M2M_ERR(...)</div><div class="ttdef"><b>Definition:</b> <a href="nm__debug_8h_source.html#l00060">nm_debug.h:60</a></div></div>
<div class="ttc" id="agroup___receive_fn_html_gafb96ba8adac96c7f6cc0d6c257418e17"><div class="ttname"><a href="group___receive_fn.html#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a></div><div class="ttdeci">sint16 recv(SOCKET sock, void *pvRecvBuf, uint16 u16BufLen, uint32 u32Timeoutmsec)</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00935">socket.c:935</a></div></div>
<div class="ttc" id="astructtstr_socket_accept_msg_html"><div class="ttname"><a href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a></div><div class="ttdoc">Socket accept status.</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00862">socket.h:862</a></div></div>
<div class="ttc" id="astructtstr_socket_accept_msg_html_a9ecd3f07483bb5a5dd0cef66ed283483"><div class="ttname"><a href="structtstr_socket_accept_msg.html#a9ecd3f07483bb5a5dd0cef66ed283483">tstrSocketAcceptMsg::sock</a></div><div class="ttdeci">SOCKET sock</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00863">socket.h:863</a></div></div>
<div class="ttc" id="astructtstr_socket_recv_msg_html"><div class="ttname"><a href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a></div><div class="ttdoc">Socket recv status.</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00915">socket.h:915</a></div></div>
<div class="ttc" id="astructtstr_socket_recv_msg_html_a7db57088ce0883c0e92acf50bdd7395d"><div class="ttname"><a href="structtstr_socket_recv_msg.html#a7db57088ce0883c0e92acf50bdd7395d">tstrSocketRecvMsg::s16BufferSize</a></div><div class="ttdeci">sint16 s16BufferSize</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00920">socket.h:920</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="socket_8c_source.html#l00935">935</a> of file <a class="el" href="socket_8c_source.html">socket.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  936</span>{</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_typedef" href="group___data_t.html#gabed6316797860370475b730ceb545332">sint16</a>  s16Ret = <a class="code hl_define" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span>((sock &gt;= 0) &amp;&amp; (sock &lt; <a class="code hl_define" href="group___i_p_defines.html#gac0ab6f439d003d912087974e24160b68">MAX_SOCKET</a>) &amp;&amp; (pvRecvBuf != <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (u16BufLen != 0) &amp;&amp; (<a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].bIsUsed == 1))</div>
<div class="line"><span class="lineno">  940</span>    {</div>
<div class="line"><span class="lineno">  941</span>        s16Ret = <a class="code hl_define" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a>;</div>
<div class="line"><span class="lineno">  942</span>        <a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].<a class="code hl_variable" href="structtstr_socket.html#aba933338abc34bbe9fc9167d5a126bd6">pu8UserBuffer</a>        = (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *)pvRecvBuf;</div>
<div class="line"><span class="lineno">  943</span>        <a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].<a class="code hl_variable" href="structtstr_socket.html#a6e50eccf62123af39e3082a759f8e303">u16UserBufferSize</a>    = u16BufLen;</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].bIsRecvPending)</div>
<div class="line"><span class="lineno">  946</span>        {</div>
<div class="line"><span class="lineno">  947</span>            <a class="code hl_struct" href="structtstr_recv_cmd.html">tstrRecvCmd</a> strRecv;</div>
<div class="line"><span class="lineno">  948</span>            <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>       u8Cmd = <a class="code hl_define" href="m2m__socket__host__if_8h.html#a8c0b820c70a50465e17e7dc8fdc3d1ad">SOCKET_CMD_RECV</a>;</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>            <a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].<a class="code hl_variable" href="structtstr_socket.html#ab94842a676243115d510c41c370b4d2a">bIsRecvPending</a> = 1;</div>
<div class="line"><span class="lineno">  951</span>            <span class="keywordflow">if</span>(</div>
<div class="line"><span class="lineno">  952</span>                    (<a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].u8SSLFlags &amp; <a class="code hl_define" href="socket_8c.html#a30c4fed1007e30f0b7d9472dd74f3c29">SSL_FLAGS_ACTIVE</a>)</div>
<div class="line"><span class="lineno">  953</span>                &amp;&amp;  (!(<a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].<a class="code hl_variable" href="structtstr_socket.html#a0bfb94af87f1aa32ee13038db7a4b50f">u8SSLFlags</a> &amp; <a class="code hl_define" href="socket_8c.html#aa275c02a51faee81d8acc196fd638b97">SSL_FLAGS_DELAY</a>))</div>
<div class="line"><span class="lineno">  954</span>            )</div>
<div class="line"><span class="lineno">  955</span>            {</div>
<div class="line"><span class="lineno">  956</span>                u8Cmd = <a class="code hl_define" href="m2m__socket__host__if_8h.html#a10c8f691eb291ad23955eefd92ac3d8a">SOCKET_CMD_SSL_RECV</a>;</div>
<div class="line"><span class="lineno">  957</span>            }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>            <span class="comment">/* Check the timeout value. */</span></div>
<div class="line"><span class="lineno">  960</span>            <span class="keywordflow">if</span>(u32Timeoutmsec == 0)</div>
<div class="line"><span class="lineno">  961</span>                strRecv.<a class="code hl_variable" href="structtstr_recv_cmd.html#a6eae6332d8cdce537355129ccc173c02">u32Timeoutmsec</a> = 0xFFFFFFFF;</div>
<div class="line"><span class="lineno">  962</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  963</span>                strRecv.<a class="code hl_variable" href="structtstr_recv_cmd.html#a6eae6332d8cdce537355129ccc173c02">u32Timeoutmsec</a> = <a class="code hl_define" href="group___b_s_p_define.html#ga1a112ee31fdc083c5a196e5f22257608">NM_BSP_B_L_32</a>(u32Timeoutmsec);</div>
<div class="line"><span class="lineno">  964</span>            strRecv.<a class="code hl_variable" href="structtstr_recv_cmd.html#a5d567e6d83cef0b6a54bfcf7f028f745">sock</a> = sock;</div>
<div class="line"><span class="lineno">  965</span>            strRecv.<a class="code hl_variable" href="structtstr_recv_cmd.html#a48efdafe108665b8098377e90b3633b3">u16SessionID</a>        = <a class="code hl_variable" href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a>[sock].<a class="code hl_variable" href="structtstr_socket.html#ab365da0c9ad6bdd6817165531efa8293">u16SessionID</a>;</div>
<div class="line"><span class="lineno">  966</span>            strRecv.<a class="code hl_variable" href="structtstr_recv_cmd.html#a92c2e6388d31a5baa31b43ad4cb868e5">u16BufLen</a>           = u16BufLen;</div>
<div class="line"><span class="lineno">  967</span>        </div>
<div class="line"><span class="lineno">  968</span>            s16Ret = <a class="code hl_define" href="socket_8c.html#a60ca8f2af1488270c6182d2a50686bd0">SOCKET_REQUEST</a>(u8Cmd, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;strRecv, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_recv_cmd.html">tstrRecvCmd</a>), <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , 0, 0);</div>
<div class="line"><span class="lineno">  969</span>            <span class="keywordflow">if</span>(s16Ret != <a class="code hl_define" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a>)</div>
<div class="line"><span class="lineno">  970</span>            {</div>
<div class="line"><span class="lineno">  971</span>                s16Ret = <a class="code hl_define" href="group___socket_error_code.html#ga327a62f01f2b0d7b732bea32612acc42">SOCK_ERR_BUFFER_FULL</a>;</div>
<div class="line"><span class="lineno">  972</span>            }</div>
<div class="line"><span class="lineno">  973</span>        }</div>
<div class="line"><span class="lineno">  974</span>    }</div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordflow">return</span> s16Ret;</div>
<div class="line"><span class="lineno">  976</span>}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup___b_s_p_define_html_ga1a112ee31fdc083c5a196e5f22257608"><div class="ttname"><a href="group___b_s_p_define.html#ga1a112ee31fdc083c5a196e5f22257608">NM_BSP_B_L_32</a></div><div class="ttdeci">#define NM_BSP_B_L_32(x)</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00312">nm_bsp.h:312</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga4df709a77647e870bbf1d955b8edc9a6"><div class="ttname"><a href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Range of values between 0 to 255.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00093">nm_bsp.h:93</a></div></div>
<div class="ttc" id="agroup___data_t_html_gabed6316797860370475b730ceb545332"><div class="ttname"><a href="group___data_t.html#gabed6316797860370475b730ceb545332">sint16</a></div><div class="ttdeci">signed short sint16</div><div class="ttdoc">Range of values between -32768 to 32767.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00121">nm_bsp.h:121</a></div></div>
<div class="ttc" id="agroup___i_p_defines_html_gac0ab6f439d003d912087974e24160b68"><div class="ttname"><a href="group___i_p_defines.html#gac0ab6f439d003d912087974e24160b68">MAX_SOCKET</a></div><div class="ttdeci">#define MAX_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00147">socket.h:144</a></div></div>
<div class="ttc" id="agroup___socket_error_code_html_ga327a62f01f2b0d7b732bea32612acc42"><div class="ttname"><a href="group___socket_error_code.html#ga327a62f01f2b0d7b732bea32612acc42">SOCK_ERR_BUFFER_FULL</a></div><div class="ttdeci">#define SOCK_ERR_BUFFER_FULL</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00565">socket.h:562</a></div></div>
<div class="ttc" id="agroup___socket_error_code_html_ga3d22d700a5ecefd5027c0f3c923ee095"><div class="ttname"><a href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a></div><div class="ttdeci">#define SOCK_ERR_NO_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00502">socket.h:498</a></div></div>
<div class="ttc" id="agroup___socket_error_code_html_ga4889a7ecf9dcfb3208d6f7c59b691d9d"><div class="ttname"><a href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a></div><div class="ttdeci">#define SOCK_ERR_INVALID_ARG</div><div class="ttdef"><b>Definition:</b> <a href="socket_8h_source.html#l00532">socket.h:529</a></div></div>
<div class="ttc" id="am2m__socket__host__if_8h_html_a10c8f691eb291ad23955eefd92ac3d8a"><div class="ttname"><a href="m2m__socket__host__if_8h.html#a10c8f691eb291ad23955eefd92ac3d8a">SOCKET_CMD_SSL_RECV</a></div><div class="ttdeci">#define SOCKET_CMD_SSL_RECV</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00163">m2m_socket_host_if.h:160</a></div></div>
<div class="ttc" id="am2m__socket__host__if_8h_html_a8c0b820c70a50465e17e7dc8fdc3d1ad"><div class="ttname"><a href="m2m__socket__host__if_8h.html#a8c0b820c70a50465e17e7dc8fdc3d1ad">SOCKET_CMD_RECV</a></div><div class="ttdeci">#define SOCKET_CMD_RECV</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00121">m2m_socket_host_if.h:118</a></div></div>
<div class="ttc" id="asocket_8c_html_a30c4fed1007e30f0b7d9472dd74f3c29"><div class="ttname"><a href="socket_8c.html#a30c4fed1007e30f0b7d9472dd74f3c29">SSL_FLAGS_ACTIVE</a></div><div class="ttdeci">#define SSL_FLAGS_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00066">socket.c:66</a></div></div>
<div class="ttc" id="asocket_8c_html_a36c7dd1eb747dd28b93c775d31c4e2ca"><div class="ttname"><a href="socket_8c.html#a36c7dd1eb747dd28b93c775d31c4e2ca">gastrSockets</a></div><div class="ttdeci">volatile tstrSocket gastrSockets[MAX_SOCKET]</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00111">socket.c:111</a></div></div>
<div class="ttc" id="asocket_8c_html_a60ca8f2af1488270c6182d2a50686bd0"><div class="ttname"><a href="socket_8c.html#a60ca8f2af1488270c6182d2a50686bd0">SOCKET_REQUEST</a></div><div class="ttdeci">#define SOCKET_REQUEST(reqID, reqArgs, reqSize, reqPayload, reqPayloadSize, reqPayloadOffset)</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00062">socket.c:62</a></div></div>
<div class="ttc" id="asocket_8c_html_aa275c02a51faee81d8acc196fd638b97"><div class="ttname"><a href="socket_8c.html#aa275c02a51faee81d8acc196fd638b97">SSL_FLAGS_DELAY</a></div><div class="ttdeci">#define SSL_FLAGS_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00073">socket.c:73</a></div></div>
<div class="ttc" id="astructtstr_recv_cmd_html"><div class="ttname"><a href="structtstr_recv_cmd.html">tstrRecvCmd</a></div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00418">m2m_socket_host_if.h:418</a></div></div>
<div class="ttc" id="astructtstr_recv_cmd_html_a48efdafe108665b8098377e90b3633b3"><div class="ttname"><a href="structtstr_recv_cmd.html#a48efdafe108665b8098377e90b3633b3">tstrRecvCmd::u16SessionID</a></div><div class="ttdeci">uint16 u16SessionID</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00422">m2m_socket_host_if.h:422</a></div></div>
<div class="ttc" id="astructtstr_recv_cmd_html_a5d567e6d83cef0b6a54bfcf7f028f745"><div class="ttname"><a href="structtstr_recv_cmd.html#a5d567e6d83cef0b6a54bfcf7f028f745">tstrRecvCmd::sock</a></div><div class="ttdeci">SOCKET sock</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00420">m2m_socket_host_if.h:420</a></div></div>
<div class="ttc" id="astructtstr_recv_cmd_html_a6eae6332d8cdce537355129ccc173c02"><div class="ttname"><a href="structtstr_recv_cmd.html#a6eae6332d8cdce537355129ccc173c02">tstrRecvCmd::u32Timeoutmsec</a></div><div class="ttdeci">uint32 u32Timeoutmsec</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00419">m2m_socket_host_if.h:419</a></div></div>
<div class="ttc" id="astructtstr_recv_cmd_html_a92c2e6388d31a5baa31b43ad4cb868e5"><div class="ttname"><a href="structtstr_recv_cmd.html#a92c2e6388d31a5baa31b43ad4cb868e5">tstrRecvCmd::u16BufLen</a></div><div class="ttdeci">uint16 u16BufLen</div><div class="ttdef"><b>Definition:</b> <a href="m2m__socket__host__if_8h_source.html#l00423">m2m_socket_host_if.h:423</a></div></div>
<div class="ttc" id="astructtstr_socket_html_a0bfb94af87f1aa32ee13038db7a4b50f"><div class="ttname"><a href="structtstr_socket.html#a0bfb94af87f1aa32ee13038db7a4b50f">tstrSocket::u8SSLFlags</a></div><div class="ttdeci">uint8 u8SSLFlags</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00099">socket.c:99</a></div></div>
<div class="ttc" id="astructtstr_socket_html_a6e50eccf62123af39e3082a759f8e303"><div class="ttname"><a href="structtstr_socket.html#a6e50eccf62123af39e3082a759f8e303">tstrSocket::u16UserBufferSize</a></div><div class="ttdeci">uint16 u16UserBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00095">socket.c:95</a></div></div>
<div class="ttc" id="astructtstr_socket_html_ab365da0c9ad6bdd6817165531efa8293"><div class="ttname"><a href="structtstr_socket.html#ab365da0c9ad6bdd6817165531efa8293">tstrSocket::u16SessionID</a></div><div class="ttdeci">uint16 u16SessionID</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00096">socket.c:96</a></div></div>
<div class="ttc" id="astructtstr_socket_html_ab94842a676243115d510c41c370b4d2a"><div class="ttname"><a href="structtstr_socket.html#ab94842a676243115d510c41c370b4d2a">tstrSocket::bIsRecvPending</a></div><div class="ttdeci">uint8 bIsRecvPending</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00100">socket.c:100</a></div></div>
<div class="ttc" id="astructtstr_socket_html_aba933338abc34bbe9fc9167d5a126bd6"><div class="ttname"><a href="structtstr_socket.html#aba933338abc34bbe9fc9167d5a126bd6">tstrSocket::pu8UserBuffer</a></div><div class="ttdeci">uint8 * pu8UserBuffer</div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00094">socket.c:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="socket_8c_source.html#l00100">tstrSocket::bIsRecvPending</a>, <a class="el" href="socket_8c_source.html#l00111">gastrSockets</a>, <a class="el" href="socket_8h_source.html#l00144">MAX_SOCKET</a>, <a class="el" href="nm__bsp_8h_source.html#l00312">NM_BSP_B_L_32</a>, <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>, <a class="el" href="socket_8c_source.html#l00094">tstrSocket::pu8UserBuffer</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00420">tstrRecvCmd::sock</a>, <a class="el" href="socket_8h_source.html#l00562">SOCK_ERR_BUFFER_FULL</a>, <a class="el" href="socket_8h_source.html#l00529">SOCK_ERR_INVALID_ARG</a>, <a class="el" href="socket_8h_source.html#l00498">SOCK_ERR_NO_ERROR</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00118">SOCKET_CMD_RECV</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00160">SOCKET_CMD_SSL_RECV</a>, <a class="el" href="socket_8c_source.html#l00062">SOCKET_REQUEST</a>, <a class="el" href="socket_8c_source.html#l00066">SSL_FLAGS_ACTIVE</a>, <a class="el" href="socket_8c_source.html#l00073">SSL_FLAGS_DELAY</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00423">tstrRecvCmd::u16BufLen</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00422">tstrRecvCmd::u16SessionID</a>, <a class="el" href="socket_8c_source.html#l00096">tstrSocket::u16SessionID</a>, <a class="el" href="socket_8c_source.html#l00095">tstrSocket::u16UserBufferSize</a>, <a class="el" href="m2m__socket__host__if_8h_source.html#l00419">tstrRecvCmd::u32Timeoutmsec</a>, and <a class="el" href="socket_8c_source.html#l00099">tstrSocket::u8SSLFlags</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8c_source.html#l00484">wifi_recieve_packet()</a>, and <a class="el" href="main_8c_source.html#l00447">wifi_require_weather()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
