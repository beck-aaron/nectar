<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: nm_bsp_init</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">nm_bsp_init<div class="ingroups"><a class="el" href="group__nm__bsp.html">BSP</a> &raquo; <a class="el" href="group___b_s_p_a_p_i.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Initialization for BSP (<b>B</b>oard <b>S</b>upport <b>P</b>ackage) such as Reset and Chip Enable Pins for WINC, delays, register ISR, enable/disable IRQ for WINC, etc.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for nm_bsp_init:</div>
<div class="dyncontent">
<div class="center"><img src="group___nm_bsp_init_fn.gif" border="0" usemap="#agroup______nm__bsp__init__fn" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga91533a50cf3da832110a746b4a57789e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___nm_bsp_init_fn.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a> (void)</td></tr>
<tr class="memdesc:ga91533a50cf3da832110a746b4a57789e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to initialize the <b>B</b>oard <b>S</b>upport <b>P</b>ackage <b>(BSP)</b> in order to prepare the WINC before any WINC API calls.  <br /></td></tr>
<tr class="separator:ga91533a50cf3da832110a746b4a57789e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Initialization for BSP (<b>B</b>oard <b>S</b>upport <b>P</b>ackage) such as Reset and Chip Enable Pins for WINC, delays, register ISR, enable/disable IRQ for WINC, etc. </p>
<p>You must use this function at the head of your application to enable WINC and Host Driver to communicate with each other. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga91533a50cf3da832110a746b4a57789e" name="ga91533a50cf3da832110a746b4a57789e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91533a50cf3da832110a746b4a57789e">&#9670;&#160;</a></span>nm_bsp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> nm_bsp_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to initialize the <b>B</b>oard <b>S</b>upport <b>P</b>ackage <b>(BSP)</b> in order to prepare the WINC before any WINC API calls. </p>
<p>The nm_bsp_init function is the first function that should be called at the beginning of every application to initialize the BSP and the WINC board. Otherwise, the rest of the BSP function calls will return with failure. This function should also be called after the WINC has been switched off with a successful call to <a class="el" href="group___nm_bsp_deinit_fn.html#ga21908c77ace36b999e63edf95751b1d0">nm_bsp_deinit</a> in order to reinitialize the BSP before the Application can use any of the WINC APIs again. After the function initializes the WINC, a hard reset must be applied to start the WINC board by calling <a class="el" href="group___nm_bsp_reset_fn.html#ga3e540428a9246a27c61999ecb7e13d05">nm_bsp_reset</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Implementation of this function is host dependent. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Omitting this function will lead to unavailability of host-chip communication.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___nm_bsp_deinit_fn.html#ga21908c77ace36b999e63edf95751b1d0" title="De-iInitialize BSP.">nm_bsp_deinit</a>, <a class="el" href="group___nm_bsp_reset_fn.html#ga3e540428a9246a27c61999ecb7e13d05" title="Reset WINC1500 SoC by setting CHIP_EN and RESET_N signals low, CHIP_EN high then RESET_N high.">nm_bsp_reset</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nm__bsp__same70_8c_source.html#l00071">71</a> of file <a class="el" href="nm__bsp__same70_8c_source.html">nm_bsp_same70.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span>{</div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_variable" href="nm__bsp__same70_8c.html#a1fc16160cd8e35ab3f77abb4bc40477e">gpfIsr</a> = <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">/* Initialize chip IOs. */</span></div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="nm__bsp__same70_8c.html#a35b8122ba907d2c6c8aaa450e3d13842">init_chip_pins</a>();</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">/* Make sure a 1ms Systick is configured. */</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> (!(SysTick-&gt;CTRL &amp; SysTick_CTRL_ENABLE_Msk &amp;&amp; SysTick-&gt;CTRL &amp; SysTick_CTRL_TICKINT_Msk)) {</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_define" href="group__group__common__services__delay.html#ga62d461b94db6352d8ed8442d62ea39fb">delay_init</a>();</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="comment">/* Perform chip reset. */</span></div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="group___nm_bsp_reset_fn.html#ga3e540428a9246a27c61999ecb7e13d05">nm_bsp_reset</a>();</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   87</span>}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup___nm_bsp_reset_fn_html_ga3e540428a9246a27c61999ecb7e13d05"><div class="ttname"><a href="group___nm_bsp_reset_fn.html#ga3e540428a9246a27c61999ecb7e13d05">nm_bsp_reset</a></div><div class="ttdeci">void nm_bsp_reset(void)</div><div class="ttdoc">Reset WINC1500 SoC by setting CHIP_EN and RESET_N signals low, CHIP_EN high then RESET_N high.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp__same70_8c_source.html#l00106">nm_bsp_same70.c:106</a></div></div>
<div class="ttc" id="agroup__group__common__services__delay_html_ga62d461b94db6352d8ed8442d62ea39fb"><div class="ttname"><a href="group__group__common__services__delay.html#ga62d461b94db6352d8ed8442d62ea39fb">delay_init</a></div><div class="ttdeci">#define delay_init(fcpu_hz)</div><div class="ttdoc">Initialize the delay driver.</div><div class="ttdef"><b>Definition:</b> <a href="delay_8h_source.html#l00098">delay.h:98</a></div></div>
<div class="ttc" id="anm__bsp__same70_8c_html_a1fc16160cd8e35ab3f77abb4bc40477e"><div class="ttname"><a href="nm__bsp__same70_8c.html#a1fc16160cd8e35ab3f77abb4bc40477e">gpfIsr</a></div><div class="ttdeci">static tpfNmBspIsr gpfIsr</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp__same70_8c_source.html#l00040">nm_bsp_same70.c:40</a></div></div>
<div class="ttc" id="anm__bsp__same70_8c_html_a35b8122ba907d2c6c8aaa450e3d13842"><div class="ttname"><a href="nm__bsp__same70_8c.html#a35b8122ba907d2c6c8aaa450e3d13842">init_chip_pins</a></div><div class="ttdeci">static void init_chip_pins(void)</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp__same70_8c_source.html#l00055">nm_bsp_same70.c:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="delay_8h_source.html#l00098">delay_init</a>, <a class="el" href="nm__bsp__same70_8c_source.html#l00040">gpfIsr</a>, <a class="el" href="nm__bsp__same70_8c_source.html#l00055">init_chip_pins()</a>, <a class="el" href="nm__bsp__same70_8c_source.html#l00106">nm_bsp_reset()</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8c_source.html#l00298">wifi_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___nm_bsp_init_fn_ga91533a50cf3da832110a746b4a57789e_cgraph.gif" border="0" usemap="#agroup___nm_bsp_init_fn_ga91533a50cf3da832110a746b4a57789e_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
