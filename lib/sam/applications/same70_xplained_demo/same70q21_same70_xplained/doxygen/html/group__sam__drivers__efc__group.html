<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: Enhanced Embedded Flash Controller (EEFC)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Enhanced Embedded Flash Controller (EEFC)</div></div>
</div><!--header-->
<div class="contents">

<p>The Enhanced Embedded Flash Controller ensures the interface of the Flash block with the 32-bit internal bus.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaaa2400119769b137bceaf60724b9ca1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gaaa2400119769b137bceaf60724b9ca1a">EEFC_ERROR_FLAGS</a>&#160;&#160;&#160;(<a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a40fc1ef211a4097e57cf517a828065a3">EEFC_FSR_FLOCKE</a> | <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#afa4b771801b64fa8a455e2ed1e967795">EEFC_FSR_FCMDE</a>)</td></tr>
<tr class="separator:gaaa2400119769b137bceaf60724b9ca1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f0b35382ab6b7d6816785779f0190b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga2f0b35382ab6b7d6816785779f0190b4">EEFC_FCR_FKEY_PASSWD</a>&#160;&#160;&#160;<a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a84300ff7e9d98f2978f32a9bd382f5ff">EEFC_FCR_FKEY</a>(<a class="el" href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a>)</td></tr>
<tr class="separator:ga2f0b35382ab6b7d6816785779f0190b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae250375e15d0272fd945616a2a9e70f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a>&#160;&#160;&#160;0x5Au</td></tr>
<tr class="separator:gae250375e15d0272fd945616a2a9e70f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa93a0ef4163a379c7cb82a034e6efe53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gaa93a0ef4163a379c7cb82a034e6efe53">efc_disable_frdy_interrupt</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:gaa93a0ef4163a379c7cb82a034e6efe53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the flash ready interrupt.  <br /></td></tr>
<tr class="separator:gaa93a0ef4163a379c7cb82a034e6efe53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1a5521f329d65b0dc260e53be5e4d0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gac1a5521f329d65b0dc260e53be5e4d0b">efc_enable_frdy_interrupt</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:gac1a5521f329d65b0dc260e53be5e4d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the flash ready interrupt.  <br /></td></tr>
<tr class="separator:gac1a5521f329d65b0dc260e53be5e4d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga586cd8bae75edd13ee8a782fd0d880d0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga586cd8bae75edd13ee8a782fd0d880d0">efc_get_flash_access_mode</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:ga586cd8bae75edd13ee8a782fd0d880d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get flash access mode.  <br /></td></tr>
<tr class="separator:ga586cd8bae75edd13ee8a782fd0d880d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d1b951eb5f4d3f280d25fa6ad01ff4c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga9d1b951eb5f4d3f280d25fa6ad01ff4c">efc_get_result</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:ga9d1b951eb5f4d3f280d25fa6ad01ff4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the result of the last executed command.  <br /></td></tr>
<tr class="separator:ga9d1b951eb5f4d3f280d25fa6ad01ff4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7aab8a8f06394d62ac43f36a502d98db"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga7aab8a8f06394d62ac43f36a502d98db">efc_get_status</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:ga7aab8a8f06394d62ac43f36a502d98db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current status of the EEFC.  <br /></td></tr>
<tr class="separator:ga7aab8a8f06394d62ac43f36a502d98db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39dabea6b691034d904c06cb08d60d36"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga39dabea6b691034d904c06cb08d60d36">efc_get_wait_state</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc)</td></tr>
<tr class="memdesc:ga39dabea6b691034d904c06cb08d60d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get flash wait state.  <br /></td></tr>
<tr class="separator:ga39dabea6b691034d904c06cb08d60d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4388e032f274942c2e1c59ad87dd7e6d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga4388e032f274942c2e1c59ad87dd7e6d">efc_init</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_access_mode, uint32_t ul_fws)</td></tr>
<tr class="memdesc:ga4388e032f274942c2e1c59ad87dd7e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the EFC controller.  <br /></td></tr>
<tr class="separator:ga4388e032f274942c2e1c59ad87dd7e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48f3f38debde0c03c936f777aef6cc2e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga48f3f38debde0c03c936f777aef6cc2e">efc_perform_command</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_command, uint32_t ul_argument)</td></tr>
<tr class="memdesc:ga48f3f38debde0c03c936f777aef6cc2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the given command and wait until its completion (or an error).  <br /></td></tr>
<tr class="separator:ga48f3f38debde0c03c936f777aef6cc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1eca9d39607dadbaa19e33b0dd6097c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gab1eca9d39607dadbaa19e33b0dd6097c">efc_perform_fcr</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_fcr)</td></tr>
<tr class="memdesc:gab1eca9d39607dadbaa19e33b0dd6097c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform command.  <br /></td></tr>
<tr class="separator:gab1eca9d39607dadbaa19e33b0dd6097c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b1c3c24eedff837a898ce28174c1431"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__sam__utils.html#gabe36f523b4b718c7258c816728a03f79">__no_inline</a> <a class="el" href="group__group__sam__utils.html#gaef8a9ac028b813702d0b053b4c14b25e">RAMFUNC</a> uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga7b1c3c24eedff837a898ce28174c1431">efc_perform_read_sequence</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_cmd_st, uint32_t ul_cmd_sp, uint32_t *p_ul_buf, uint32_t ul_size)</td></tr>
<tr class="memdesc:ga7b1c3c24eedff837a898ce28174c1431"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform read sequence.  <br /></td></tr>
<tr class="separator:ga7b1c3c24eedff837a898ce28174c1431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a18fdc2e202f2ce5337f0e0a4f6eecd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga7a18fdc2e202f2ce5337f0e0a4f6eecd">efc_set_flash_access_mode</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_mode)</td></tr>
<tr class="memdesc:ga7a18fdc2e202f2ce5337f0e0a4f6eecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flash access mode.  <br /></td></tr>
<tr class="separator:ga7a18fdc2e202f2ce5337f0e0a4f6eecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad128919fd18ca8f30155820220012deb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#gad128919fd18ca8f30155820220012deb">efc_set_wait_state</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_fws)</td></tr>
<tr class="memdesc:gad128919fd18ca8f30155820220012deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flash wait state.  <br /></td></tr>
<tr class="separator:gad128919fd18ca8f30155820220012deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3107655bd6525e135e2d89faa4e45a87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a> (<a class="el" href="struct_efc.html">Efc</a> *p_efc, uint32_t ul_fmr)</td></tr>
<tr class="memdesc:ga3107655bd6525e135e2d89faa4e45a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set mode register.  <br /></td></tr>
<tr class="separator:ga3107655bd6525e135e2d89faa4e45a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Enhanced Embedded Flash Controller ensures the interface of the Flash block with the 32-bit internal bus. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaaa2400119769b137bceaf60724b9ca1a" name="gaaa2400119769b137bceaf60724b9ca1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa2400119769b137bceaf60724b9ca1a">&#9670;&#160;</a></span>EEFC_ERROR_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEFC_ERROR_FLAGS&#160;&#160;&#160;(<a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a40fc1ef211a4097e57cf517a828065a3">EEFC_FSR_FLOCKE</a> | <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#afa4b771801b64fa8a455e2ed1e967795">EEFC_FSR_FCMDE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00086">86</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>

</div>
</div>
<a id="ga2f0b35382ab6b7d6816785779f0190b4" name="ga2f0b35382ab6b7d6816785779f0190b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f0b35382ab6b7d6816785779f0190b4">&#9670;&#160;</a></span>EEFC_FCR_FKEY_PASSWD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEFC_FCR_FKEY_PASSWD&#160;&#160;&#160;<a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a84300ff7e9d98f2978f32a9bd382f5ff">EEFC_FCR_FKEY</a>(<a class="el" href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00090">90</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>

</div>
</div>
<a id="gae250375e15d0272fd945616a2a9e70f4" name="gae250375e15d0272fd945616a2a9e70f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae250375e15d0272fd945616a2a9e70f4">&#9670;&#160;</a></span>FWP_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FWP_KEY&#160;&#160;&#160;0x5Au</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00076">76</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa93a0ef4163a379c7cb82a034e6efe53" name="gaa93a0ef4163a379c7cb82a034e6efe53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa93a0ef4163a379c7cb82a034e6efe53">&#9670;&#160;</a></span>efc_disable_frdy_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efc_disable_frdy_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the flash ready interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00164">164</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  165</span>{</div>
<div class="line"><span class="lineno">  166</span>    uint32_t ul_fmr = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a>;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_fmr &amp; (~<a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a56bd3350aa9d4d9370ffc770c76bf90e">EEFC_FMR_FRDY</a>));</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="agroup__sam__drivers__efc__group_html_ga3107655bd6525e135e2d89faa4e45a87"><div class="ttname"><a href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a></div><div class="ttdeci">void efc_write_fmr(Efc *p_efc, uint32_t ul_fmr)</div><div class="ttdoc">Set mode register.</div><div class="ttdef"><b>Definition:</b> <a href="efc_8c_source.html#l00393">efc.c:393</a></div></div>
<div class="ttc" id="astruct_efc_html_a0267dc569c60c29fd05b2cc8b7ee112c"><div class="ttname"><a href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">Efc::EEFC_FMR</a></div><div class="ttdeci">__IO uint32_t EEFC_FMR</div><div class="ttdoc">(Efc Offset: 0x00) EEFC Flash Mode Register</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">utils/cmsis/same70/include/component/efc.h:47</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a56bd3350aa9d4d9370ffc770c76bf90e"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a56bd3350aa9d4d9370ffc770c76bf90e">EEFC_FMR_FRDY</a></div><div class="ttdeci">#define EEFC_FMR_FRDY</div><div class="ttdoc">(EEFC_FMR) Flash Ready Interrupt Enable</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00058">utils/cmsis/same70/include/component/efc.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00058">EEFC_FMR_FRDY</a>, and <a class="el" href="efc_8c_source.html#l00393">efc_write_fmr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_gaa93a0ef4163a379c7cb82a034e6efe53_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_gaa93a0ef4163a379c7cb82a034e6efe53_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gac1a5521f329d65b0dc260e53be5e4d0b" name="gac1a5521f329d65b0dc260e53be5e4d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1a5521f329d65b0dc260e53be5e4d0b">&#9670;&#160;</a></span>efc_enable_frdy_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efc_enable_frdy_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the flash ready interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00152">152</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>{</div>
<div class="line"><span class="lineno">  154</span>    uint32_t ul_fmr = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a>;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_fmr | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a56bd3350aa9d4d9370ffc770c76bf90e">EEFC_FMR_FRDY</a>);</div>
<div class="line"><span class="lineno">  157</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00058">EEFC_FMR_FRDY</a>, and <a class="el" href="efc_8c_source.html#l00393">efc_write_fmr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_gac1a5521f329d65b0dc260e53be5e4d0b_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_gac1a5521f329d65b0dc260e53be5e4d0b_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga586cd8bae75edd13ee8a782fd0d880d0" name="ga586cd8bae75edd13ee8a782fd0d880d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga586cd8bae75edd13ee8a782fd0d880d0">&#9670;&#160;</a></span>efc_get_flash_access_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_get_flash_access_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get flash access mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for 128-bit or EEFC_FMR_FAM for 64-bit. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00212">212</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">return</span> (p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> &amp; EEFC_FMR_FAM);</div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>.</p>

</div>
</div>
<a id="ga9d1b951eb5f4d3f280d25fa6ad01ff4c" name="ga9d1b951eb5f4d3f280d25fa6ad01ff4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d1b951eb5f4d3f280d25fa6ad01ff4c">&#9670;&#160;</a></span>efc_get_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_get_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the result of the last executed command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of the last executed command. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00297">297</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>{</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">return</span> p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a82c4cb433e72e8bbd32412d06a09beb8">EEFC_FRR</a>;</div>
<div class="line"><span class="lineno">  300</span>}</div>
<div class="ttc" id="astruct_efc_html_a82c4cb433e72e8bbd32412d06a09beb8"><div class="ttname"><a href="struct_efc.html#a82c4cb433e72e8bbd32412d06a09beb8">Efc::EEFC_FRR</a></div><div class="ttdeci">__I uint32_t EEFC_FRR</div><div class="ttdoc">(Efc Offset: 0x0C) EEFC Flash Result Register</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00050">utils/cmsis/same70/include/component/efc.h:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00050">Efc::EEFC_FRR</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00402">flash_get_descriptor()</a>, <a class="el" href="flash__efc_8c_source.html#l00910">flash_is_gpnvm_set()</a>, and <a class="el" href="flash__efc_8c_source.html#l00783">flash_is_locked()</a>.</p>

</div>
</div>
<a id="ga7aab8a8f06394d62ac43f36a502d98db" name="ga7aab8a8f06394d62ac43f36a502d98db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7aab8a8f06394d62ac43f36a502d98db">&#9670;&#160;</a></span>efc_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_get_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status of the EEFC. </p>
<dl class="section note"><dt>Note</dt><dd>This function clears the value of some status bits (FLOCKE, FCMDE).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current status. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00285">285</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  286</span>{</div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">return</span> p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#aaf6b92c6ac0bdc78197ca0a16d37fdb0">EEFC_FSR</a>;</div>
<div class="line"><span class="lineno">  288</span>}</div>
<div class="ttc" id="astruct_efc_html_aaf6b92c6ac0bdc78197ca0a16d37fdb0"><div class="ttname"><a href="struct_efc.html#aaf6b92c6ac0bdc78197ca0a16d37fdb0">Efc::EEFC_FSR</a></div><div class="ttdeci">__I uint32_t EEFC_FSR</div><div class="ttdoc">(Efc Offset: 0x08) EEFC Flash Status Register</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00049">utils/cmsis/same70/include/component/efc.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00049">Efc::EEFC_FSR</a>.</p>

</div>
</div>
<a id="ga39dabea6b691034d904c06cb08d60d36" name="ga39dabea6b691034d904c06cb08d60d36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39dabea6b691034d904c06cb08d60d36">&#9670;&#160;</a></span>efc_get_wait_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_get_wait_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get flash wait state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of wait states in cycle (no shift). </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00238">238</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span>{</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">return</span> ((p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> &amp; <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a81fa885269f2f443ac7bc1378f7e82d8">EEFC_FMR_FWS_Msk</a>) &gt;&gt; <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#add1781d4c79846e773a144879c14f20b">EEFC_FMR_FWS_Pos</a>);</div>
<div class="line"><span class="lineno">  241</span>}</div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a81fa885269f2f443ac7bc1378f7e82d8"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a81fa885269f2f443ac7bc1378f7e82d8">EEFC_FMR_FWS_Msk</a></div><div class="ttdeci">#define EEFC_FMR_FWS_Msk</div><div class="ttdoc">(EEFC_FMR) Flash Wait State</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00060">utils/cmsis/same70/include/component/efc.h:60</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_add1781d4c79846e773a144879c14f20b"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#add1781d4c79846e773a144879c14f20b">EEFC_FMR_FWS_Pos</a></div><div class="ttdeci">#define EEFC_FMR_FWS_Pos</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00059">utils/cmsis/same70/include/component/efc.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00060">EEFC_FMR_FWS_Msk</a>, and <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00059">EEFC_FMR_FWS_Pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00385">flash_get_wait_state()</a>, and <a class="el" href="flash__efc_8c_source.html#l00597">flash_write()</a>.</p>

</div>
</div>
<a id="ga4388e032f274942c2e1c59ad87dd7e6d" name="ga4388e032f274942c2e1c59ad87dd7e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4388e032f274942c2e1c59ad87dd7e6d">&#9670;&#160;</a></span>efc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_access_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_fws</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the EFC controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ul_access_mode</td><td>0 for 128-bit, EEFC_FMR_FAM for 64-bit. </td></tr>
    <tr><td class="paramname">ul_fws</td><td>The number of wait states in cycle (no shift).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00109">109</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span><span class="preprocessor">#if (SAM4S || SAM4E || SAM4N || SAM4C || SAMG || SAM4CP || SAM4CM || \</span></div>
<div class="line"><span class="lineno">  112</span><span class="preprocessor">     SAMV71 || SAMV70 || SAMS70 || SAME70)</span></div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_access_mode | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#af0757169aac40dd19f0212e418fd29bc">EEFC_FMR_FWS</a>(ul_fws) | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#abd350b64442c2d6f5d1915d60b96f132">EEFC_FMR_CLOE</a>);</div>
<div class="line"><span class="lineno">  114</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_access_mode | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#af0757169aac40dd19f0212e418fd29bc">EEFC_FMR_FWS</a>(ul_fws));</div>
<div class="line"><span class="lineno">  116</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba15c09e12c0cb7515f7e380e078f6333c">EFC_RC_OK</a>;</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="adrivers_2efc_2efc_8h_html_a1827a5f38cb4d7ab6d04215ef5867caba15c09e12c0cb7515f7e380e078f6333c"><div class="ttname"><a href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba15c09e12c0cb7515f7e380e078f6333c">EFC_RC_OK</a></div><div class="ttdeci">@ EFC_RC_OK</div><div class="ttdoc">Operation OK.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2efc_2efc_8h_source.html#l00053">drivers/efc/efc.h:53</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_abd350b64442c2d6f5d1915d60b96f132"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#abd350b64442c2d6f5d1915d60b96f132">EEFC_FMR_CLOE</a></div><div class="ttdeci">#define EEFC_FMR_CLOE</div><div class="ttdoc">(EEFC_FMR) Code Loop Optimization Enable</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00063">utils/cmsis/same70/include/component/efc.h:63</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_af0757169aac40dd19f0212e418fd29bc"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#af0757169aac40dd19f0212e418fd29bc">EEFC_FMR_FWS</a></div><div class="ttdeci">#define EEFC_FMR_FWS(value)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00061">utils/cmsis/same70/include/component/efc.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00063">EEFC_FMR_CLOE</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00061">EEFC_FMR_FWS</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00053">EFC_RC_OK</a>, and <a class="el" href="efc_8c_source.html#l00393">efc_write_fmr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00303">flash_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_ga4388e032f274942c2e1c59ad87dd7e6d_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_ga4388e032f274942c2e1c59ad87dd7e6d_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga48f3f38debde0c03c936f777aef6cc2e" name="ga48f3f38debde0c03c936f777aef6cc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48f3f38debde0c03c936f777aef6cc2e">&#9670;&#160;</a></span>efc_perform_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t efc_perform_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform the given command and wait until its completion (or an error). </p>
<dl class="section note"><dt>Note</dt><dd>Unique ID commands are not supported, use efc_perform_read_sequence.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_command</td><td>Command to perform. </td></tr>
    <tr><td class="paramname">ul_argument</td><td>Optional command argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will automatically choose to use IAP function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise returns an error code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00256">256</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>{</div>
<div class="line"><span class="lineno">  259</span>    uint32_t result;</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_typedef" href="group__interrupt__group.html#ga9aa1f52defc97531b6343233abeea613">irqflags_t</a> flags;</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">/* Unique ID commands are not supported. */</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> (ul_command == <a class="code hl_define" href="drivers_2efc_2efc_8h.html#a2cc57bcff7f6affca4c20b42d93223d7">EFC_FCMD_STUI</a> || ul_command == <a class="code hl_define" href="drivers_2efc_2efc_8h.html#a07cf35d219261746efa987c4ab6157c7">EFC_FCMD_SPUI</a>) {</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba4c090209d766cce25002f65e19a9107c">EFC_RC_NOT_SUPPORT</a>;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    flags = <a class="code hl_function" href="group__interrupt__group.html#ga5992cb015c55a0f4ed563e66a8793771">cpu_irq_save</a>();</div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">/* Use RAM Function. */</span></div>
<div class="line"><span class="lineno">  269</span>    result = <a class="code hl_function" href="group__sam__drivers__efc__group.html#gab1eca9d39607dadbaa19e33b0dd6097c">efc_perform_fcr</a>(p_efc,</div>
<div class="line"><span class="lineno">  270</span>            <a class="code hl_define" href="group__sam__drivers__efc__group.html#ga2f0b35382ab6b7d6816785779f0190b4">EEFC_FCR_FKEY_PASSWD</a> | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a>(ul_argument) |</div>
<div class="line"><span class="lineno">  271</span>            <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a>(ul_command));</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_function" href="group__interrupt__group.html#ga428178bc346431936fddf52ad1ebd6fa">cpu_irq_restore</a>(flags);</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  274</span>}</div>
<div class="ttc" id="adrivers_2efc_2efc_8h_html_a07cf35d219261746efa987c4ab6157c7"><div class="ttname"><a href="drivers_2efc_2efc_8h.html#a07cf35d219261746efa987c4ab6157c7">EFC_FCMD_SPUI</a></div><div class="ttdeci">#define EFC_FCMD_SPUI</div><div class="ttdoc">Stop unique ID.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2efc_2efc_8h_source.html#l00084">drivers/efc/efc.h:84</a></div></div>
<div class="ttc" id="adrivers_2efc_2efc_8h_html_a1827a5f38cb4d7ab6d04215ef5867caba4c090209d766cce25002f65e19a9107c"><div class="ttname"><a href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba4c090209d766cce25002f65e19a9107c">EFC_RC_NOT_SUPPORT</a></div><div class="ttdeci">@ EFC_RC_NOT_SUPPORT</div><div class="ttdoc">Operation is not supported.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2efc_2efc_8h_source.html#l00059">drivers/efc/efc.h:58</a></div></div>
<div class="ttc" id="adrivers_2efc_2efc_8h_html_a2cc57bcff7f6affca4c20b42d93223d7"><div class="ttname"><a href="drivers_2efc_2efc_8h.html#a2cc57bcff7f6affca4c20b42d93223d7">EFC_FCMD_STUI</a></div><div class="ttdeci">#define EFC_FCMD_STUI</div><div class="ttdoc">Start unique ID.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2efc_2efc_8h_source.html#l00083">drivers/efc/efc.h:83</a></div></div>
<div class="ttc" id="agroup__interrupt__group_html_ga428178bc346431936fddf52ad1ebd6fa"><div class="ttname"><a href="group__interrupt__group.html#ga428178bc346431936fddf52ad1ebd6fa">cpu_irq_restore</a></div><div class="ttdeci">static void cpu_irq_restore(irqflags_t flags)</div><div class="ttdoc">Restore global interrupt flags.</div><div class="ttdef"><b>Definition:</b> <a href="interrupt__sam__nvic_8h_source.html#l00153">interrupt_sam_nvic.h:153</a></div></div>
<div class="ttc" id="agroup__interrupt__group_html_ga5992cb015c55a0f4ed563e66a8793771"><div class="ttname"><a href="group__interrupt__group.html#ga5992cb015c55a0f4ed563e66a8793771">cpu_irq_save</a></div><div class="ttdeci">static irqflags_t cpu_irq_save(void)</div><div class="ttdoc">Get and clear the global interrupt flags.</div><div class="ttdef"><b>Definition:</b> <a href="interrupt__sam__nvic_8h_source.html#l00141">interrupt_sam_nvic.h:141</a></div></div>
<div class="ttc" id="agroup__interrupt__group_html_ga9aa1f52defc97531b6343233abeea613"><div class="ttname"><a href="group__interrupt__group.html#ga9aa1f52defc97531b6343233abeea613">irqflags_t</a></div><div class="ttdeci">uint32_t irqflags_t</div><div class="ttdoc">Type used for holding state of interrupt flag.</div><div class="ttdef"><b>Definition:</b> <a href="interrupt__sam__nvic_8h_source.html#l00130">interrupt_sam_nvic.h:130</a></div></div>
<div class="ttc" id="agroup__sam__drivers__efc__group_html_ga2f0b35382ab6b7d6816785779f0190b4"><div class="ttname"><a href="group__sam__drivers__efc__group.html#ga2f0b35382ab6b7d6816785779f0190b4">EEFC_FCR_FKEY_PASSWD</a></div><div class="ttdeci">#define EEFC_FCR_FKEY_PASSWD</div><div class="ttdef"><b>Definition:</b> <a href="efc_8c_source.html#l00090">efc.c:90</a></div></div>
<div class="ttc" id="agroup__sam__drivers__efc__group_html_gab1eca9d39607dadbaa19e33b0dd6097c"><div class="ttname"><a href="group__sam__drivers__efc__group.html#gab1eca9d39607dadbaa19e33b0dd6097c">efc_perform_fcr</a></div><div class="ttdeci">uint32_t efc_perform_fcr(Efc *p_efc, uint32_t ul_fcr)</div><div class="ttdoc">Perform command.</div><div class="ttdef"><b>Definition:</b> <a href="efc_8c_source.html#l00408">efc.c:408</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a21aa960cc2a34095e5b55cdda0cfc051"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a></div><div class="ttdeci">#define EEFC_FCR_FARG(value)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00091">utils/cmsis/same70/include/component/efc.h:91</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a73be88482ae7a8fea141c3c576486f77"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a></div><div class="ttdeci">#define EEFC_FCR_FCMD(value)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00067">utils/cmsis/same70/include/component/efc.h:67</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interrupt__sam__nvic_8h_source.html#l00153">cpu_irq_restore()</a>, <a class="el" href="interrupt__sam__nvic_8h_source.html#l00141">cpu_irq_save()</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00091">EEFC_FCR_FARG</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00067">EEFC_FCR_FCMD</a>, <a class="el" href="efc_8c_source.html#l00090">EEFC_FCR_FKEY_PASSWD</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00084">EFC_FCMD_SPUI</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00083">EFC_FCMD_STUI</a>, <a class="el" href="efc_8c_source.html#l00408">efc_perform_fcr()</a>, and <a class="el" href="drivers_2efc_2efc_8h_source.html#l00058">EFC_RC_NOT_SUPPORT</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00884">flash_clear_gpnvm()</a>, <a class="el" href="flash__efc_8c_source.html#l00485">flash_erase_all()</a>, <a class="el" href="flash__efc_8c_source.html#l00402">flash_get_descriptor()</a>, <a class="el" href="flash__efc_8c_source.html#l00910">flash_is_gpnvm_set()</a>, <a class="el" href="flash__efc_8c_source.html#l00783">flash_is_locked()</a>, <a class="el" href="flash__efc_8c_source.html#l00690">flash_lock()</a>, <a class="el" href="flash__efc_8c_source.html#l00860">flash_set_gpnvm()</a>, <a class="el" href="flash__efc_8c_source.html#l00739">flash_unlock()</a>, and <a class="el" href="flash__efc_8c_source.html#l00597">flash_write()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_ga48f3f38debde0c03c936f777aef6cc2e_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_ga48f3f38debde0c03c936f777aef6cc2e_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gab1eca9d39607dadbaa19e33b0dd6097c" name="gab1eca9d39607dadbaa19e33b0dd6097c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1eca9d39607dadbaa19e33b0dd6097c">&#9670;&#160;</a></span>efc_perform_fcr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__sam__utils.html#gabe36f523b4b718c7258c816728a03f79">__no_inline</a> <a class="el" href="group__group__sam__utils.html#gaef8a9ac028b813702d0b053b4c14b25e">RAMFUNC</a> uint32_t efc_perform_fcr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_fcr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_fcr</td><td>Flash command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current status. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00408">408</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  409</span>{</div>
<div class="line"><span class="lineno">  410</span>    <span class="keyword">volatile</span> uint32_t ul_status;</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a38dbb840f7e6d6d6636470906c77d2dd">EEFC_FCR</a> = ul_fcr;</div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  414</span>        ul_status = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#aaf6b92c6ac0bdc78197ca0a16d37fdb0">EEFC_FSR</a>;</div>
<div class="line"><span class="lineno">  415</span>    } <span class="keywordflow">while</span> ((ul_status &amp; <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>) != <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>);</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">return</span> (ul_status &amp; <a class="code hl_define" href="group__sam__drivers__efc__group.html#gaaa2400119769b137bceaf60724b9ca1a">EEFC_ERROR_FLAGS</a>);</div>
<div class="line"><span class="lineno">  418</span>}</div>
<div class="ttc" id="agroup__sam__drivers__efc__group_html_gaaa2400119769b137bceaf60724b9ca1a"><div class="ttname"><a href="group__sam__drivers__efc__group.html#gaaa2400119769b137bceaf60724b9ca1a">EEFC_ERROR_FLAGS</a></div><div class="ttdeci">#define EEFC_ERROR_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="efc_8c_source.html#l00086">efc.c:86</a></div></div>
<div class="ttc" id="astruct_efc_html_a38dbb840f7e6d6d6636470906c77d2dd"><div class="ttname"><a href="struct_efc.html#a38dbb840f7e6d6d6636470906c77d2dd">Efc::EEFC_FCR</a></div><div class="ttdeci">__O uint32_t EEFC_FCR</div><div class="ttdoc">(Efc Offset: 0x04) EEFC Flash Command Register</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00048">utils/cmsis/same70/include/component/efc.h:48</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a595ccf0ced2d4f07300ef7bb816234f2"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a></div><div class="ttdeci">#define EEFC_FSR_FRDY</div><div class="ttdoc">(EEFC_FSR) Flash Ready Status (cleared when Flash is busy)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00097">utils/cmsis/same70/include/component/efc.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="efc_8c_source.html#l00086">EEFC_ERROR_FLAGS</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00048">Efc::EEFC_FCR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00049">Efc::EEFC_FSR</a>, and <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00097">EEFC_FSR_FRDY</a>.</p>

<p class="reference">Referenced by <a class="el" href="efc_8c_source.html#l00256">efc_perform_command()</a>.</p>

</div>
</div>
<a id="ga7b1c3c24eedff837a898ce28174c1431" name="ga7b1c3c24eedff837a898ce28174c1431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b1c3c24eedff837a898ce28174c1431">&#9670;&#160;</a></span>efc_perform_read_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__sam__utils.html#gabe36f523b4b718c7258c816728a03f79">__no_inline</a> <a class="el" href="group__group__sam__utils.html#gaef8a9ac028b813702d0b053b4c14b25e">RAMFUNC</a> uint32_t efc_perform_read_sequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_cmd_st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_cmd_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_ul_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform read sequence. </p>
<p>Supported sequences are read Unique ID and read User Signature</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_cmd_st</td><td>Start command to perform. </td></tr>
    <tr><td class="paramname">ul_cmd_sp</td><td>Stop command to perform. </td></tr>
    <tr><td class="paramname">p_ul_buf</td><td>Pointer to an data buffer. </td></tr>
    <tr><td class="paramname">ul_size</td><td>Buffer size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise returns an error code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00316">316</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>{</div>
<div class="line"><span class="lineno">  320</span>    <span class="keyword">volatile</span> uint32_t ul_status;</div>
<div class="line"><span class="lineno">  321</span>    uint32_t ul_cnt;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span><span class="preprocessor">#if (SAM3U4 || SAM3XA || SAM4SD16 || SAM4SD32 || SAM4C32 || SAM4CMS32|| SAM4CMP32)</span></div>
<div class="line"><span class="lineno">  324</span>    uint32_t *p_ul_data =</div>
<div class="line"><span class="lineno">  325</span>            (uint32_t *) ((p_efc == EFC0) ?</div>
<div class="line"><span class="lineno">  326</span>            READ_BUFF_ADDR0 : READ_BUFF_ADDR1);</div>
<div class="line"><span class="lineno">  327</span><span class="preprocessor">#elif (SAM3S || SAM4S || SAM3N || SAM3U || SAM4E || SAM4N || SAM4C || SAMG || \</span></div>
<div class="line"><span class="lineno">  328</span><span class="preprocessor">       SAM4CP || SAM4CM || SAMV71 || SAMV70 || SAMS70 || SAME70)</span></div>
<div class="line"><span class="lineno">  329</span>    uint32_t *p_ul_data = (uint32_t *) READ_BUFF_ADDR;</div>
<div class="line"><span class="lineno">  330</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba4c090209d766cce25002f65e19a9107c">EFC_RC_NOT_SUPPORT</a>;</div>
<div class="line"><span class="lineno">  332</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> (p_ul_buf == <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867cabacb9b8d3742805b99ed6cfbeb5ff88a31">EFC_RC_INVALID</a>;</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> |= (0x1u &lt;&lt; 16);</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="comment">/* Send the Start Read command */</span></div>
<div class="line"><span class="lineno">  341</span><span class="preprocessor">#if (SAM4S || SAM4E || SAM4N || SAM4C || SAMG || SAM4CP || SAM4CM || \</span></div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">     SAMV71 || SAMV70 || SAMS70 || SAME70)</span></div>
<div class="line"><span class="lineno">  343</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a38dbb840f7e6d6d6636470906c77d2dd">EEFC_FCR</a> = <a class="code hl_define" href="group__sam__drivers__efc__group.html#ga2f0b35382ab6b7d6816785779f0190b4">EEFC_FCR_FKEY_PASSWD</a> | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a>(0)</div>
<div class="line"><span class="lineno">  344</span>            | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a>(ul_cmd_st);</div>
<div class="line"><span class="lineno">  345</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  346</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a38dbb840f7e6d6d6636470906c77d2dd">EEFC_FCR</a> = <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a84300ff7e9d98f2978f32a9bd382f5ff">EEFC_FCR_FKEY</a>(<a class="code hl_define" href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a>) | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a>(0)</div>
<div class="line"><span class="lineno">  347</span>            | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a>(ul_cmd_st);</div>
<div class="line"><span class="lineno">  348</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  349</span>    <span class="comment">/* Wait for the FRDY bit in the Flash Programming Status Register</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">     * (EEFC_FSR) falls.</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  353</span>        ul_status = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#aaf6b92c6ac0bdc78197ca0a16d37fdb0">EEFC_FSR</a>;</div>
<div class="line"><span class="lineno">  354</span>    } <span class="keywordflow">while</span> ((ul_status &amp; <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>) == <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    <span class="comment">/* The data is located in the first address of the Flash</span></div>
<div class="line"><span class="lineno">  357</span><span class="comment">     * memory mapping.</span></div>
<div class="line"><span class="lineno">  358</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">for</span> (ul_cnt = 0; ul_cnt &lt; ul_size; ul_cnt++) {</div>
<div class="line"><span class="lineno">  360</span>        p_ul_buf[ul_cnt] = p_ul_data[ul_cnt];</div>
<div class="line"><span class="lineno">  361</span>    }</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="comment">/* To stop the read mode */</span></div>
<div class="line"><span class="lineno">  364</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a38dbb840f7e6d6d6636470906c77d2dd">EEFC_FCR</a> =</div>
<div class="line"><span class="lineno">  365</span><span class="preprocessor">#if (SAM4S || SAM4E || SAM4N || SAM4C || SAMG || SAM4CP || SAM4CM || \</span></div>
<div class="line"><span class="lineno">  366</span><span class="preprocessor">     SAMV71 || SAMV70 || SAMS70 || SAME70)</span></div>
<div class="line"><span class="lineno">  367</span>            <a class="code hl_define" href="group__sam__drivers__efc__group.html#ga2f0b35382ab6b7d6816785779f0190b4">EEFC_FCR_FKEY_PASSWD</a> | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a>(0) |</div>
<div class="line"><span class="lineno">  368</span>            <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a>(ul_cmd_sp);</div>
<div class="line"><span class="lineno">  369</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  370</span>            <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a84300ff7e9d98f2978f32a9bd382f5ff">EEFC_FCR_FKEY</a>(<a class="code hl_define" href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a>) | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a21aa960cc2a34095e5b55cdda0cfc051">EEFC_FCR_FARG</a>(0) |</div>
<div class="line"><span class="lineno">  371</span>            <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a73be88482ae7a8fea141c3c576486f77">EEFC_FCR_FCMD</a>(ul_cmd_sp);</div>
<div class="line"><span class="lineno">  372</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="comment">/* Wait for the FRDY bit in the Flash Programming Status Register (EEFC_FSR)</span></div>
<div class="line"><span class="lineno">  374</span><span class="comment">     * rises.</span></div>
<div class="line"><span class="lineno">  375</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  377</span>        ul_status = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#aaf6b92c6ac0bdc78197ca0a16d37fdb0">EEFC_FSR</a>;</div>
<div class="line"><span class="lineno">  378</span>    } <span class="keywordflow">while</span> ((ul_status &amp; <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>) != <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a595ccf0ced2d4f07300ef7bb816234f2">EEFC_FSR_FRDY</a>);</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> &amp;= ~(0x1u &lt;&lt; 16);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867caba15c09e12c0cb7515f7e380e078f6333c">EFC_RC_OK</a>;</div>
<div class="line"><span class="lineno">  383</span>}</div>
<div class="ttc" id="adrivers_2efc_2efc_8h_html_a1827a5f38cb4d7ab6d04215ef5867cabacb9b8d3742805b99ed6cfbeb5ff88a31"><div class="ttname"><a href="drivers_2efc_2efc_8h.html#a1827a5f38cb4d7ab6d04215ef5867cabacb9b8d3742805b99ed6cfbeb5ff88a31">EFC_RC_INVALID</a></div><div class="ttdeci">@ EFC_RC_INVALID</div><div class="ttdoc">Invalid argument input.</div><div class="ttdef"><b>Definition:</b> <a href="drivers_2efc_2efc_8h_source.html#l00057">drivers/efc/efc.h:57</a></div></div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup__sam__drivers__efc__group_html_gae250375e15d0272fd945616a2a9e70f4"><div class="ttname"><a href="group__sam__drivers__efc__group.html#gae250375e15d0272fd945616a2a9e70f4">FWP_KEY</a></div><div class="ttdeci">#define FWP_KEY</div><div class="ttdef"><b>Definition:</b> <a href="efc_8c_source.html#l00076">efc.c:76</a></div></div>
<div class="ttc" id="autils_2cmsis_2same70_2include_2component_2efc_8h_html_a84300ff7e9d98f2978f32a9bd382f5ff"><div class="ttname"><a href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#a84300ff7e9d98f2978f32a9bd382f5ff">EEFC_FCR_FKEY</a></div><div class="ttdeci">#define EEFC_FCR_FKEY(value)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00094">utils/cmsis/same70/include/component/efc.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00048">Efc::EEFC_FCR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00091">EEFC_FCR_FARG</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00067">EEFC_FCR_FCMD</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00094">EEFC_FCR_FKEY</a>, <a class="el" href="efc_8c_source.html#l00090">EEFC_FCR_FKEY_PASSWD</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00049">Efc::EEFC_FSR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00097">EEFC_FSR_FRDY</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00057">EFC_RC_INVALID</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00058">EFC_RC_NOT_SUPPORT</a>, <a class="el" href="drivers_2efc_2efc_8h_source.html#l00053">EFC_RC_OK</a>, <a class="el" href="efc_8c_source.html#l00076">FWP_KEY</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00960">flash_read_unique_id()</a>.</p>

</div>
</div>
<a id="ga7a18fdc2e202f2ce5337f0e0a4f6eecd" name="ga7a18fdc2e202f2ce5337f0e0a4f6eecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a18fdc2e202f2ce5337f0e0a4f6eecd">&#9670;&#160;</a></span>efc_set_flash_access_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efc_set_flash_access_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flash access mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_mode</td><td>0 for 128-bit, EEFC_FMR_FAM for 64-bit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00198">198</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  199</span>{</div>
<div class="line"><span class="lineno">  200</span>    uint32_t ul_fmr = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> &amp; (~EEFC_FMR_FAM);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_fmr | ul_mode);</div>
<div class="line"><span class="lineno">  203</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, and <a class="el" href="efc_8c_source.html#l00393">efc_write_fmr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_ga7a18fdc2e202f2ce5337f0e0a4f6eecd_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_ga7a18fdc2e202f2ce5337f0e0a4f6eecd_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gad128919fd18ca8f30155820220012deb" name="gad128919fd18ca8f30155820220012deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad128919fd18ca8f30155820220012deb">&#9670;&#160;</a></span>efc_set_wait_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efc_set_wait_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_fws</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flash wait state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_fws</td><td>The number of wait states in cycle (no shift). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00224">224</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>{</div>
<div class="line"><span class="lineno">  226</span>    uint32_t ul_fmr = p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> &amp; (~EEFC_FMR_FWS_Msk);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_function" href="group__sam__drivers__efc__group.html#ga3107655bd6525e135e2d89faa4e45a87">efc_write_fmr</a>(p_efc, ul_fmr | <a class="code hl_define" href="utils_2cmsis_2same70_2include_2component_2efc_8h.html#af0757169aac40dd19f0212e418fd29bc">EEFC_FMR_FWS</a>(ul_fws));</div>
<div class="line"><span class="lineno">  229</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>, <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00061">EEFC_FMR_FWS</a>, and <a class="el" href="efc_8c_source.html#l00393">efc_write_fmr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="flash__efc_8c_source.html#l00322">flash_set_wait_state()</a>, <a class="el" href="flash__efc_8c_source.html#l00340">flash_set_wait_state_adaptively()</a>, and <a class="el" href="flash__efc_8c_source.html#l00597">flash_write()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sam__drivers__efc__group_gad128919fd18ca8f30155820220012deb_cgraph.gif" border="0" usemap="#agroup__sam__drivers__efc__group_gad128919fd18ca8f30155820220012deb_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga3107655bd6525e135e2d89faa4e45a87" name="ga3107655bd6525e135e2d89faa4e45a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3107655bd6525e135e2d89faa4e45a87">&#9670;&#160;</a></span>efc_write_fmr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__sam__utils.html#gabe36f523b4b718c7258c816728a03f79">__no_inline</a> <a class="el" href="group__group__sam__utils.html#gaef8a9ac028b813702d0b053b4c14b25e">RAMFUNC</a> void efc_write_fmr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_efc.html">Efc</a> *&#160;</td>
          <td class="paramname"><em>p_efc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ul_fmr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set mode register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_efc</td><td>Pointer to an EFC instance. </td></tr>
    <tr><td class="paramname">ul_fmr</td><td>Value of mode register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="efc_8c_source.html#l00393">393</a> of file <a class="el" href="efc_8c_source.html">efc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>{</div>
<div class="line"><span class="lineno">  395</span>    p_efc-&gt;<a class="code hl_variable" href="struct_efc.html#a0267dc569c60c29fd05b2cc8b7ee112c">EEFC_FMR</a> = ul_fmr;</div>
<div class="line"><span class="lineno">  396</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2cmsis_2same70_2include_2component_2efc_8h_source.html#l00047">Efc::EEFC_FMR</a>.</p>

<p class="reference">Referenced by <a class="el" href="efc_8c_source.html#l00164">efc_disable_frdy_interrupt()</a>, <a class="el" href="efc_8c_source.html#l00152">efc_enable_frdy_interrupt()</a>, <a class="el" href="efc_8c_source.html#l00109">efc_init()</a>, <a class="el" href="efc_8c_source.html#l00198">efc_set_flash_access_mode()</a>, and <a class="el" href="efc_8c_source.html#l00224">efc_set_wait_state()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
