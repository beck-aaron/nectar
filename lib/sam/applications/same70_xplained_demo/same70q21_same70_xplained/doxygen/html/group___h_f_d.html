<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WINC1500 Weather Client Demo for SAME70 Xplained: HFD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WINC1500 Weather Client Demo for SAME70 Xplained
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">HFD<div class="ingroups"><a class="el" href="group___o_t_a_a_p_i.html">OTA</a> &raquo; <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html">Functions</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for HFD:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_f_d.gif" border="0" usemap="#agroup______h__f__d" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83a8e02cdb523751352b2041d051d8e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_f_d.html#ga83a8e02cdb523751352b2041d051d8e9">m2m_ota_host_file_erase</a> (<a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler, <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga1adc822f8ba2bcd9c12216c7bc123c28">tpfFileEraseCb</a> pfHFDEraseCb)</td></tr>
<tr class="memdesc:ga83a8e02cdb523751352b2041d051d8e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase any traces of an existing file, this means from host driver and WINC firmware.  <br /></td></tr>
<tr class="separator:ga83a8e02cdb523751352b2041d051d8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c3b206dd2264c8798a3c85c8df12335"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335">m2m_ota_host_file_get</a> (unsigned char *pcDownloadUrl, <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga4d67687a736ac74c3d501232928c9716">tpfFileGetCb</a> pfHFDGetCb)</td></tr>
<tr class="memdesc:ga4c3b206dd2264c8798a3c85c8df12335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download a file from a remote location and store it in the WINC's Flash.  <br /></td></tr>
<tr class="separator:ga4c3b206dd2264c8798a3c85c8df12335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9fc0592d78ab10156f54dda9f9f35cef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_f_d.html#ga9fc0592d78ab10156f54dda9f9f35cef">m2m_ota_host_file_read_hif</a> (<a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler, <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Offset, <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Size, <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#gaa5149bf7fc7338845e09144eda01f0e3">tpfFileReadCb</a> pfHFDReadCb)</td></tr>
<tr class="memdesc:ga9fc0592d78ab10156f54dda9f9f35cef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a certain amount of bytes from a file in WINC's Flash using HIF transfer.  <br /></td></tr>
<tr class="separator:ga9fc0592d78ab10156f54dda9f9f35cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga380dbb3b375f7c7960687441c6efd5f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_f_d.html#ga380dbb3b375f7c7960687441c6efd5f8">m2m_ota_host_file_read_spi</a> (<a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler, <a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *pu8Buff, <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Offset, <a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Size)</td></tr>
<tr class="memdesc:ga380dbb3b375f7c7960687441c6efd5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a certain amount of bytes from a file in WINC's Flash using SPI transfer.  <br /></td></tr>
<tr class="separator:ga380dbb3b375f7c7960687441c6efd5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga83a8e02cdb523751352b2041d051d8e9" name="ga83a8e02cdb523751352b2041d051d8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83a8e02cdb523751352b2041d051d8e9">&#9670;&#160;</a></span>m2m_ota_host_file_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_ota_host_file_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>u8Handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga1adc822f8ba2bcd9c12216c7bc123c28">tpfFileEraseCb</a>&#160;</td>
          <td class="paramname"><em>pfHFDEraseCb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase any traces of an existing file, this means from host driver and WINC firmware. </p>
<p>Erase any traces of file stored in WINC's Flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>ID of the file we are trying to erase. Must be valid. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDEraseCb</td><td>Pointer to callback to execute when the file erase in the WINC completes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the erase operation. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Providing a callback is optional. If the current handler is invalid at this point, it means one of the three:<ol type="1">
<li>The file never existed;</li>
<li>The file has already been already deleted;</li>
<li>The request to get the file hasn't fully completed. For 1. and 2. there is no need to signal the WINC to erase the file in Flash. For 3. the Flash can't be erased while a file download is ongoing.</li>
</ol>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>Handler of the file we are trying to erase. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDEraseCb</td><td>Pointer to callback (see <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga1adc822f8ba2bcd9c12216c7bc123c28">tpfFileEraseCb</a>) to execute when the file erase is completed by the WINC.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>In order to execute the callback, <a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a> must be called before requesting the erase.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Providing a callback is optional. If the current handler is invalid at this point, it means one of the three:<ol type="1">
<li>The file never existed;</li>
<li>The file has already been already deleted;</li>
<li>The request to get the file hasn't fully completed. </li>
</ol>
</dd></dl>
<dl class="section user"><dt></dt><dd>For 1. and 2. there is no need to signal the WINC to erase the file in Flash.<br  />
 For 3. the Flash can't be erased while a file download is ongoing.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>A valid file handler must be provided, this means that it needs to match the handler internally stored by the WINC and must not be HFD_INVALID_HANDLER.<br  />
 The handlers will be destroyed regardless of the call returning success or not.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335" title="Download a file from a remote location and store it in the WINC&#39;s Flash.">m2m_ota_host_file_get</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__ota_8c_source.html#l00506">506</a> of file <a class="el" href="m2m__ota_8c_source.html">m2m_ota.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39cce157443a0d067b1b76b30d9dfa6e">M2M_ERR_INVALID</a>;</div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">if</span>((u8Handler != <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a>) || (<a class="code hl_define" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a> == <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a>)) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a> = <a class="code hl_define" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a>;</div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_variable" href="m2m__ota_8c.html#a8a2888d044896644f7c647cdc9cc940f">gpfHFDReadCb</a>  = <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  513</span>    <a class="code hl_variable" href="m2m__ota_8c.html#a73ca35df1e6f619c5d8e74843be849ea">gpfHFDEraseCb</a> = pfHFDEraseCb;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    s8Ret = <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a3c66e7ad5114bf08626bdf7bfdf40431">M2M_REQ_GROUP_OTA</a>, <a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca35206baba2580141046179d64a843f58">M2M_OTA_REQ_HOST_FILE_ERASE</a>, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno">  516</span>EXIT:</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">return</span> s8Ret;</div>
<div class="line"><span class="lineno">  518</span>}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00068">nm_bsp.h:64</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga39cce157443a0d067b1b76b30d9dfa6e"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga39cce157443a0d067b1b76b30d9dfa6e">M2M_ERR_INVALID</a></div><div class="ttdeci">#define M2M_ERR_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00071">nm_common.h:71</a></div></div>
<div class="ttc" id="agroup___data_t_html_gae35f10ffd0ac8dd2bc3e794da9bdfbc7"><div class="ttname"><a href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a></div><div class="ttdeci">signed char sint8</div><div class="ttdoc">Range of values between -128 to 127.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00114">nm_bsp.h:114</a></div></div>
<div class="ttc" id="agroup___o_t_a_d_e_f_i_n_e_html_gabee73a5cfde46a8918274961bc43dc32"><div class="ttname"><a href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a></div><div class="ttdeci">#define HFD_INVALID_HANDLER</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00517">m2m_types.h:514</a></div></div>
<div class="ttc" id="agroup___o_t_a_t_y_p_e_d_e_f_html_gga0220996b43dbde1d7e6d6870fafd245ca35206baba2580141046179d64a843f58"><div class="ttname"><a href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca35206baba2580141046179d64a843f58">M2M_OTA_REQ_HOST_FILE_ERASE</a></div><div class="ttdeci">@ M2M_OTA_REQ_HOST_FILE_ERASE</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l03130">m2m_types.h:3130</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga7ad36daa778abaf8d338f19f97ffeec6a3c66e7ad5114bf08626bdf7bfdf40431"><div class="ttname"><a href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a3c66e7ad5114bf08626bdf7bfdf40431">M2M_REQ_GROUP_OTA</a></div><div class="ttdeci">@ M2M_REQ_GROUP_OTA</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00818">m2m_types.h:818</a></div></div>
<div class="ttc" id="am2m__hif_8c_html_a13ba8ad11b2ac39516ca787386d16ce0"><div class="ttname"><a href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a></div><div class="ttdeci">sint8 hif_send(uint8 u8Gid, uint8 u8Opcode, uint8 *pu8CtrlBuf, uint16 u16CtrlBufSize, uint8 *pu8DataBuf, uint16 u16DataSize, uint16 u16DataOffset)</div><div class="ttdoc">Send packet using host interface.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__hif_8c_source.html#l00293">m2m_hif.c:293</a></div></div>
<div class="ttc" id="am2m__ota_8c_html_a40dd8a334d93e5a45576a21ad4955652"><div class="ttname"><a href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a></div><div class="ttdeci">static uint8 gu8CurrFileHandlerID</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00066">m2m_ota.c:66</a></div></div>
<div class="ttc" id="am2m__ota_8c_html_a73ca35df1e6f619c5d8e74843be849ea"><div class="ttname"><a href="m2m__ota_8c.html#a73ca35df1e6f619c5d8e74843be849ea">gpfHFDEraseCb</a></div><div class="ttdeci">static tpfFileEraseCb gpfHFDEraseCb</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00057">m2m_ota.c:57</a></div></div>
<div class="ttc" id="am2m__ota_8c_html_a8a2888d044896644f7c647cdc9cc940f"><div class="ttname"><a href="m2m__ota_8c.html#a8a2888d044896644f7c647cdc9cc940f">gpfHFDReadCb</a></div><div class="ttdeci">static tpfFileReadCb gpfHFDReadCb</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00056">m2m_ota.c:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__ota_8c_source.html#l00057">gpfHFDEraseCb</a>, <a class="el" href="m2m__ota_8c_source.html#l00056">gpfHFDReadCb</a>, <a class="el" href="m2m__ota_8c_source.html#l00066">gu8CurrFileHandlerID</a>, <a class="el" href="m2m__types_8h_source.html#l00514">HFD_INVALID_HANDLER</a>, <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="nm__common_8h_source.html#l00071">M2M_ERR_INVALID</a>, <a class="el" href="m2m__types_8h_source.html#l03130">M2M_OTA_REQ_HOST_FILE_ERASE</a>, <a class="el" href="m2m__types_8h_source.html#l00818">M2M_REQ_GROUP_OTA</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_f_d_ga83a8e02cdb523751352b2041d051d8e9_cgraph.gif" border="0" usemap="#agroup___h_f_d_ga83a8e02cdb523751352b2041d051d8e9_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga4c3b206dd2264c8798a3c85c8df12335" name="ga4c3b206dd2264c8798a3c85c8df12335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c3b206dd2264c8798a3c85c8df12335">&#9670;&#160;</a></span>m2m_ota_host_file_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_ota_host_file_get </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pcDownloadUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga4d67687a736ac74c3d501232928c9716">tpfFileGetCb</a>&#160;</td>
          <td class="paramname"><em>pfHFDGetCb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download a file from a remote location and store it in the WINC's Flash. </p>
<p>Download a file from a remote location and store it in WINC's Flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcDownloadUrl</td><td>Url pointing to the remote file. HTTP/HTTPS only.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDGetCb</td><td>Pointer to a callback to be executed when the download finishes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the get operation. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Providing a callback is mandatory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcDownloadUrl</td><td>Url pointing to the remote file. HTTP/HTTPS only.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDGetCb</td><td>Pointer to a callback (see <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga4d67687a736ac74c3d501232928c9716">tpfFileGetCb</a>) to be executed when the download finishes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Requires <a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a> to be called before a download can start.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This functionality is only supported from WINC release 19.6.1 onwards. The maximum file size that can be stored in WINC1510 is 508KB, the WINC1500 variant is not supported for Host File Download.<br  />
 Concurrent use of Host File Get and WINC OTA is not possible.<br  />
 Providing a callback is mandatory.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#ga4d67687a736ac74c3d501232928c9716" title="A callback to notify the application of the result of the download (success/fail),...">tpfFileGetCb</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__ota_8c_source.html#l00369">369</a> of file <a class="el" href="m2m__ota_8c_source.html">m2m_ota.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  370</span>{</div>
<div class="line"><span class="lineno">  371</span>    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_typedef" href="group___data_t.html#ga1daa745171fc6e31d942c161422a76f9">uint16</a> u16DUrlSize = <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga7ab2c19ce29ea364fb1653765732172f">m2m_strlen</a>(pcDownloadUrl);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">if</span>((<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == pfHFDGetCb) || (0 == u16DUrlSize))</div>
<div class="line"><span class="lineno">  375</span>    {</div>
<div class="line"><span class="lineno">  376</span>        <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;Invalid parameters.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span>(<span class="charliteral">&#39;\0&#39;</span> != pcDownloadUrl[u16DUrlSize])</div>
<div class="line"><span class="lineno">  381</span>        pcDownloadUrl[u16DUrlSize] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  383</span>        u16DUrlSize++;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <a class="code hl_define" href="group___debug_defines.html#ga84108eca2655e811179386a39c62acf2">M2M_INFO</a>(<span class="stringliteral">&quot;GetHostFile - URL: %s, urlSize: %u\n&quot;</span>, pcDownloadUrl, u16DUrlSize);</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    s8Ret = <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a3c66e7ad5114bf08626bdf7bfdf40431">M2M_REQ_GROUP_OTA</a>, <a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca381713a9985647f6c91d102f79345ace">M2M_OTA_REQ_HOST_FILE_DOWNLOAD</a>, pcDownloadUrl, u16DUrlSize, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">if</span>(s8Ret == <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  389</span>    {</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_variable" href="m2m__ota_8c.html#ad18457a25ba131713e61a4d38ec877e1">gpfHFDGetCb</a> = pfHFDGetCb;</div>
<div class="line"><span class="lineno">  391</span>        <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a> = <a class="code hl_define" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a>;</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>EXIT:</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">return</span> s8Ret;</div>
<div class="line"><span class="lineno">  396</span>}</div>
<div class="ttc" id="agroup___c_o_m_m_o_n_a_p_i_html_ga7ab2c19ce29ea364fb1653765732172f"><div class="ttname"><a href="group___c_o_m_m_o_n_a_p_i.html#ga7ab2c19ce29ea364fb1653765732172f">m2m_strlen</a></div><div class="ttdeci">uint16 m2m_strlen(uint8 *pcStr)</div><div class="ttdoc">Returns the length of a null terminated string buffer.</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8c_source.html#l00068">nm_common.c:68</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga39ed05df730834f2255971ca9879996e"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a></div><div class="ttdeci">#define M2M_ERR_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00066">nm_common.h:66</a></div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga9ef27ba27aafdd1aa3a79d3ba2c36b8f"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a></div><div class="ttdeci">#define M2M_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00054">nm_common.h:54</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga1daa745171fc6e31d942c161422a76f9"><div class="ttname"><a href="group___data_t.html#ga1daa745171fc6e31d942c161422a76f9">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdoc">Range of values between 0 to 65535.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00100">nm_bsp.h:100</a></div></div>
<div class="ttc" id="agroup___debug_defines_html_ga34d005df494e50b05cd38b80f318d7ac"><div class="ttname"><a href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a></div><div class="ttdeci">#define M2M_ERR(...)</div><div class="ttdef"><b>Definition:</b> <a href="nm__debug_8h_source.html#l00060">nm_debug.h:60</a></div></div>
<div class="ttc" id="agroup___debug_defines_html_ga84108eca2655e811179386a39c62acf2"><div class="ttname"><a href="group___debug_defines.html#ga84108eca2655e811179386a39c62acf2">M2M_INFO</a></div><div class="ttdeci">#define M2M_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="nm__debug_8h_source.html#l00061">nm_debug.h:61</a></div></div>
<div class="ttc" id="agroup___o_t_a_t_y_p_e_d_e_f_html_gga0220996b43dbde1d7e6d6870fafd245ca381713a9985647f6c91d102f79345ace"><div class="ttname"><a href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca381713a9985647f6c91d102f79345ace">M2M_OTA_REQ_HOST_FILE_DOWNLOAD</a></div><div class="ttdeci">@ M2M_OTA_REQ_HOST_FILE_DOWNLOAD</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l03126">m2m_types.h:3126</a></div></div>
<div class="ttc" id="am2m__ota_8c_html_ad18457a25ba131713e61a4d38ec877e1"><div class="ttname"><a href="m2m__ota_8c.html#ad18457a25ba131713e61a4d38ec877e1">gpfHFDGetCb</a></div><div class="ttdeci">static tpfFileGetCb gpfHFDGetCb</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00055">m2m_ota.c:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__ota_8c_source.html#l00055">gpfHFDGetCb</a>, <a class="el" href="m2m__ota_8c_source.html#l00066">gu8CurrFileHandlerID</a>, <a class="el" href="m2m__types_8h_source.html#l00514">HFD_INVALID_HANDLER</a>, <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="nm__debug_8h_source.html#l00060">M2M_ERR</a>, <a class="el" href="nm__common_8h_source.html#l00066">M2M_ERR_FAIL</a>, <a class="el" href="nm__debug_8h_source.html#l00061">M2M_INFO</a>, <a class="el" href="m2m__types_8h_source.html#l03126">M2M_OTA_REQ_HOST_FILE_DOWNLOAD</a>, <a class="el" href="m2m__types_8h_source.html#l00818">M2M_REQ_GROUP_OTA</a>, <a class="el" href="nm__common_8c_source.html#l00068">m2m_strlen()</a>, <a class="el" href="nm__common_8h_source.html#l00054">M2M_SUCCESS</a>, and <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_f_d_ga4c3b206dd2264c8798a3c85c8df12335_cgraph.gif" border="0" usemap="#agroup___h_f_d_ga4c3b206dd2264c8798a3c85c8df12335_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga9fc0592d78ab10156f54dda9f9f35cef" name="ga9fc0592d78ab10156f54dda9f9f35cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9fc0592d78ab10156f54dda9f9f35cef">&#9670;&#160;</a></span>m2m_ota_host_file_read_hif()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_ota_host_file_read_hif </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>u8Handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32Offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#gaa5149bf7fc7338845e09144eda01f0e3">tpfFileReadCb</a>&#160;</td>
          <td class="paramname"><em>pfHFDReadCb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a certain amount of bytes from a file in WINC's Flash using HIF transfer. </p>
<p>Read a certain amount of bytes from a file previously stored in WINC's Flash using HIF transfer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>ID of the file we are trying to read from. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Offset</td><td>Offset from start of the file to read from (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Size</td><td>The amount of data to read (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDReadCb</td><td>Callback to be executed when the read operation completes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the read operation. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Providing a callback is mandatory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>Handler of the file we are trying to read from. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Offset</td><td>Offset from start of the file to read from (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Size</td><td>The amount of data to read (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pfHFDReadCb</td><td>Callback (see <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#gaa5149bf7fc7338845e09144eda01f0e3">tpfFileReadCb</a>) to be executed when the read operation completes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Requires <a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a> to be called before a read via HIF can be requested.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>There is a limitation on how much data can be transferred at a time using HIF read, which is 128 bytes. The limitation described above can potentially reduce the speed of the read due to extra overhead, but using the HIF is non-blocking and therefore the Application can continue execution as normal, being interrupted only when data is available. Another advantage is that it does not require the WINC to be reset or put in download mode, as it is the case for reading the file via SPI (see <a class="el" href="group___h_f_d.html#ga380dbb3b375f7c7960687441c6efd5f8">m2m_ota_host_file_read_spi</a>).<br  />
 A valid file handler must be provided, this means that it needs to match the handler internally stored by the WINC and must not be HFD_INVALID_HANDLER.<br  />
 Providing a callback is mandatory.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>When calling this API while specifying a size &gt; 128 bytes, the read will be limited to the first 128 bytes starting at the read offset. It it recommended that a read for sizes above 128 bytes is performed in multiple steps, using the callback to advance the offset and request another read of 128 bytes (or less) each time.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335" title="Download a file from a remote location and store it in the WINC&#39;s Flash.">m2m_ota_host_file_get</a> <a class="el" href="group___o_t_a_c_a_l_l_b_a_c_k_s.html#gaa5149bf7fc7338845e09144eda01f0e3" title="A callback to handle a buffer of data after requesting a Host File read. The callback will provide th...">tpfFileReadCb</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="m2m__ota_8c_source.html#l00415">415</a> of file <a class="el" href="m2m__ota_8c_source.html">m2m_ota.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>{</div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret         = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#gad7b33b775a3158ec2b1ceeb105b1a461">M2M_ERR_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  418</span>    <a class="code hl_variable" href="m2m__ota_8c.html#a26ae1dff6cc4737a9a4d0994c6affeb7">FileBlock</a>.<a class="code hl_variable" href="struct_file_block_descriptor.html#a640f618b92dfb4d0475772b46ae09070">u32Offset</a> = u32Offset;</div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_variable" href="m2m__ota_8c.html#a26ae1dff6cc4737a9a4d0994c6affeb7">FileBlock</a>.<a class="code hl_variable" href="struct_file_block_descriptor.html#a5eab761a7aec00ffa6b34add2e1e3a32">u32Size</a>   = u32Size;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">if</span>((u8Handler != <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a>) || (<a class="code hl_define" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a> == <a class="code hl_variable" href="m2m__ota_8c.html#a40dd8a334d93e5a45576a21ad4955652">gu8CurrFileHandlerID</a>) || (<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == pfHFDReadCb)) <span class="keywordflow">goto</span> EXIT; </div>
<div class="line"><span class="lineno">  422</span>    s8Ret = <a class="code hl_function" href="m2m__hif_8c.html#a13ba8ad11b2ac39516ca787386d16ce0">hif_send</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga7ad36daa778abaf8d338f19f97ffeec6a3c66e7ad5114bf08626bdf7bfdf40431">M2M_REQ_GROUP_OTA</a>, <a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca1bcd63d71c76281264937a8729273d73">M2M_OTA_REQ_HOST_FILE_READ</a>, (<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *) &amp;<a class="code hl_variable" href="m2m__ota_8c.html#a26ae1dff6cc4737a9a4d0994c6affeb7">FileBlock</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct_file_block_descriptor.html">FileBlockDescriptor</a>), <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> == s8Ret)</div>
<div class="line"><span class="lineno">  425</span>        <a class="code hl_variable" href="m2m__ota_8c.html#a8a2888d044896644f7c647cdc9cc940f">gpfHFDReadCb</a> = pfHFDReadCb;</div>
<div class="line"><span class="lineno">  426</span>EXIT:</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">return</span> s8Ret;</div>
<div class="line"><span class="lineno">  428</span>}</div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_gad7b33b775a3158ec2b1ceeb105b1a461"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#gad7b33b775a3158ec2b1ceeb105b1a461">M2M_ERR_INVALID_ARG</a></div><div class="ttdeci">#define M2M_ERR_INVALID_ARG</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8h_source.html#l00070">nm_common.h:70</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga4df709a77647e870bbf1d955b8edc9a6"><div class="ttname"><a href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Range of values between 0 to 255.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00093">nm_bsp.h:93</a></div></div>
<div class="ttc" id="agroup___o_t_a_t_y_p_e_d_e_f_html_gga0220996b43dbde1d7e6d6870fafd245ca1bcd63d71c76281264937a8729273d73"><div class="ttname"><a href="group___o_t_a_t_y_p_e_d_e_f.html#gga0220996b43dbde1d7e6d6870fafd245ca1bcd63d71c76281264937a8729273d73">M2M_OTA_REQ_HOST_FILE_READ</a></div><div class="ttdeci">@ M2M_OTA_REQ_HOST_FILE_READ</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l03128">m2m_types.h:3128</a></div></div>
<div class="ttc" id="am2m__ota_8c_html_a26ae1dff6cc4737a9a4d0994c6affeb7"><div class="ttname"><a href="m2m__ota_8c.html#a26ae1dff6cc4737a9a4d0994c6affeb7">FileBlock</a></div><div class="ttdeci">static FileBlockDescriptor FileBlock</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00064">m2m_ota.c:64</a></div></div>
<div class="ttc" id="astruct_file_block_descriptor_html"><div class="ttname"><a href="struct_file_block_descriptor.html">FileBlockDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00059">m2m_ota.c:59</a></div></div>
<div class="ttc" id="astruct_file_block_descriptor_html_a5eab761a7aec00ffa6b34add2e1e3a32"><div class="ttname"><a href="struct_file_block_descriptor.html#a5eab761a7aec00ffa6b34add2e1e3a32">FileBlockDescriptor::u32Size</a></div><div class="ttdeci">uint32 u32Size</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00061">m2m_ota.c:61</a></div></div>
<div class="ttc" id="astruct_file_block_descriptor_html_a640f618b92dfb4d0475772b46ae09070"><div class="ttname"><a href="struct_file_block_descriptor.html#a640f618b92dfb4d0475772b46ae09070">FileBlockDescriptor::u32Offset</a></div><div class="ttdeci">uint32 u32Offset</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00060">m2m_ota.c:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__ota_8c_source.html#l00064">FileBlock</a>, <a class="el" href="m2m__ota_8c_source.html#l00056">gpfHFDReadCb</a>, <a class="el" href="m2m__ota_8c_source.html#l00066">gu8CurrFileHandlerID</a>, <a class="el" href="m2m__types_8h_source.html#l00514">HFD_INVALID_HANDLER</a>, <a class="el" href="m2m__hif_8c_source.html#l00293">hif_send()</a>, <a class="el" href="nm__common_8h_source.html#l00070">M2M_ERR_INVALID_ARG</a>, <a class="el" href="m2m__types_8h_source.html#l03128">M2M_OTA_REQ_HOST_FILE_READ</a>, <a class="el" href="m2m__types_8h_source.html#l00818">M2M_REQ_GROUP_OTA</a>, <a class="el" href="nm__common_8h_source.html#l00054">M2M_SUCCESS</a>, <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>, <a class="el" href="m2m__ota_8c_source.html#l00060">FileBlockDescriptor::u32Offset</a>, and <a class="el" href="m2m__ota_8c_source.html#l00061">FileBlockDescriptor::u32Size</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_f_d_ga9fc0592d78ab10156f54dda9f9f35cef_cgraph.gif" border="0" usemap="#agroup___h_f_d_ga9fc0592d78ab10156f54dda9f9f35cef_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga380dbb3b375f7c7960687441c6efd5f8" name="ga380dbb3b375f7c7960687441c6efd5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga380dbb3b375f7c7960687441c6efd5f8">&#9670;&#160;</a></span>m2m_ota_host_file_read_spi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> m2m_ota_host_file_read_spi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>&#160;</td>
          <td class="paramname"><em>u8Handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> *&#160;</td>
          <td class="paramname"><em>pu8Buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32Offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a>&#160;</td>
          <td class="paramname"><em>u32Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a certain amount of bytes from a file in WINC's Flash using SPI transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>ID of the file we are trying to read from. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8Buff</td><td>Pointer to a buffer to store the data being read. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Offset</td><td>Offset from start of the file to read from (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Size</td><td>The amount of data to read (in Bytes). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the read operation. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Before using m2m_ota_host_file_read_spi, the WINC needs to be put in a special mode to allow for a safe access to the Flash. This can be done by calling <a class="el" href="group___w_l_a_n_i_n_i_t.html#ga49fb8d396cf8404fb0990f472fd27f5a">m2m_wifi_download_mode</a> or <a class="el" href="group___w_l_a_n_i_n_i_t.html#gacb6043add3b8046b4c8d94a831461585">m2m_wifi_reinit_hold</a> before trying to read.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Handler</td><td>Handler of the file we are trying to read from. Must be valid.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8Buff</td><td>Pointer to a buffer to store the data being read. Must not be NULL.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Offset</td><td>Offset from start of the file to read from (in bytes).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Size</td><td>The amount of data to read (in Bytes).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Reading of a file via SPI can be much faster than by reading it via the HIF. However, the read will be blocking and it will require the WINC to be put into download mode prior to the read, the download mode means that the WINC will act as Flash device and not as a Wifi device. So, before using m2m_ota_host_file_read_spi, the Application should call <a class="el" href="group___w_l_a_n_i_n_i_t.html#ga49fb8d396cf8404fb0990f472fd27f5a">m2m_wifi_download_mode</a> before trying to read. After the read finishes, the WINC needs to be reset (see <a class="el" href="group___w_l_a_n_i_n_i_t.html#gabec8d70030597ea6685b202f7d014a7c">m2m_wifi_reinit</a>).<br  />
 A valid file handler must be provided, this means that it needs to match the handler internally stored by the WINC and must not be <a class="el" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335" title="Download a file from a remote location and store it in the WINC&#39;s Flash.">m2m_ota_host_file_get</a></dd></dl>
<h1><a class="anchor" id="Host"></a>
File Download SPI Read Example</h1>
<p>The following is an example of how to perform a read file from the WINC via SPI. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler;</div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Offset;</div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Size;</div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> au8Buff[200];</div>
<div class="line">}FileDescriptor;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a> gstrWifiParam;</div>
<div class="line"><span class="keyword">static</span> FileDescriptor gstrAppFile;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> *acURL = <span class="stringliteral">&quot;http://www.microchip.com/_images/ics/medium-ATWINC1500-MODULE-28.png&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ReadFileSPI(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> wifi_event_cb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8WiFiEvent, <span class="keywordtype">void</span> * pvMsg);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> FileGetCallback(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Status, <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler, <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Size);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> OtaUpdateCb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8OtaUpdateStatusType ,<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8OtaUpdateStatus);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> wifi_event_cb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8WiFiEvent, <span class="keywordtype">void</span> * pvMsg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___wlan_enums.html#gga064de09dec1d5e88ed8d075fa40f57deaa849449fa83e4b552689266a1f1019e7">M2M_WIFI_REQ_DHCP_CONF</a>:</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// After successfully connection, start the File Download</span></div>
<div class="line">        gstrAppFile.u32Offset = 0;</div>
<div class="line">        s8Ret = <a class="code hl_function" href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335">m2m_ota_host_file_get</a>(acURL, FileGetCallback);</div>
<div class="line">        <span class="keywordflow">if</span>(s8Ret != <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;File Download Failed!\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> OtaUpdateCb(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8OtaUpdateStatusType ,<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8OtaUpdateStatus)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_define" href="group___debug_defines.html#ga84108eca2655e811179386a39c62acf2">M2M_INFO</a>(<span class="stringliteral">&quot;%d %d\n&quot;</span>,u8OtaUpdateStatusType,u8OtaUpdateStatus);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(u8OtaUpdateStatus == <a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#ggab7006b9cb55eb414d0416d0513533eeba23e293bcc679d3021e202ac255b71500">OTA_STATUS_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span>(u8OtaUpdateStatusType == <a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#gga3e56744d263918b9e36016f78d823c3aaa125479191f24a910fc75ee33de0a1d4">HFD_STATUS</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Read the file and process it</span></div>
<div class="line">            ReadFileSPI();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> FileGetCallback(<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Status, <a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a> u8Handler, <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32Size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="group___o_t_a_t_y_p_e_d_e_f.html#ggab7006b9cb55eb414d0416d0513533eeba23e293bcc679d3021e202ac255b71500">OTA_STATUS_SUCCESS</a> == u8Status)</div>
<div class="line">    {</div>
<div class="line">        gstrAppFile.u8Handler = u8Handler;</div>
<div class="line">        gstrAppFile.u32Size   = u32Size;</div>
<div class="line">        <span class="comment">// File Get Successful</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;File Get Failed!\n&quot;</span>);</div>
<div class="line">        <span class="comment">// File Get Failed</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ReadFileSPI(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga6fd80a986c0ee128add6160889a3b2c2a3776f24e3a21d316e8876c59352ab1f1">WIFI_STATE_DEINIT</a> != <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga54f3a17ebb8204ebc262ad5c5f54bfd5">m2m_wifi_get_state</a>())</div>
<div class="line">        <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#gacadee10a536f3e9817f26aa52b0bb954">m2m_wifi_deinit</a>(<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"> </div>
<div class="line">    s8Ret = <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga49fb8d396cf8404fb0990f472fd27f5a">m2m_wifi_download_mode</a>();</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// gstrAppFile.u32Offset can be changed to define a starting point for the read,</span></div>
<div class="line">    <span class="comment">// in which case the size of the requested read should be adjusted to accommodate for this.</span></div>
<div class="line">    <span class="comment">// This call assumes that m2m_ota_host_file_get was called earlier, in this example it is fine</span></div>
<div class="line">    <span class="comment">// since ReadFileSPI is only called from the within OtaUpdateCb</span></div>
<div class="line">    <span class="comment">// This example simply reads the first 200 bytes of the file.</span></div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32AmountToRead = 200;</div>
<div class="line">    s8Ret = <a class="code hl_function" href="group___h_f_d.html#ga380dbb3b375f7c7960687441c6efd5f8">m2m_ota_host_file_read_spi</a>(gstrAppFile.u8Handler, gstrAppFile.au8Buff, gstrAppFile.u32Offset, u32AmountToRead);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> == s8Ret)</div>
<div class="line">        <a class="code hl_define" href="group___debug_defines.html#ga84108eca2655e811179386a39c62acf2">M2M_INFO</a>(<span class="stringliteral">&quot;\nFile Read completed, Offset: %lu, Size of Read: %lu.\n&quot;</span>, gstrAppFile.u32Offset, u32AmountToRead);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// *** Do something with the contents of gstrAppFile.au8Buff ***</span></div>
<div class="line"> </div>
<div class="line">    s8Ret = <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#gabec8d70030597ea6685b202f7d014a7c">m2m_wifi_reinit</a>(&amp;gstrWifiParam);</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the OTA again and reconnect to the previously connected SSID</span></div>
<div class="line">    <a class="code hl_function" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a>(OtaUpdateCb, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    <a class="code hl_function" href="group___w_l_a_n_c_o_n_n_e_c_t.html#ga47a2fd846c691e9cf9acc5bcba867386">m2m_wifi_default_connect</a>();</div>
<div class="line"> </div>
<div class="line">EXIT:</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="group___nm_bsp_init_fn.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___c_o_m_m_o_n_a_p_i.html#ga245e71a174d65f12926883f76752df93">m2m_memset</a>((<a class="code hl_typedef" href="group___data_t.html#ga4df709a77647e870bbf1d955b8edc9a6">uint8</a>*)&amp;gstrWifiParam, 0, <span class="keyword">sizeof</span>(gstrWifiParam));</div>
<div class="line">    gstrWifiParam.pfAppWifiCb = wifi_event_cb;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the WINC Driver</span></div>
<div class="line">    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret = <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a>(&amp;gstrWifiParam);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;Driver Init Failed &lt;%d&gt;\n&quot;</span>,s8Ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the OTA module</span></div>
<div class="line">    <a class="code hl_function" href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a>(OtaUpdateCb, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// *** Connect to a wifi network by calling m2m_wifi_connect() ***</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(1) <a class="code hl_function" href="group___w_l_a_n_e_v_t_s.html#ga461a4edc057cec8c00cf124a07aa3b02">m2m_wifi_handle_events</a>(<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___c_o_m_m_o_n_a_p_i_html_ga245e71a174d65f12926883f76752df93"><div class="ttname"><a href="group___c_o_m_m_o_n_a_p_i.html#ga245e71a174d65f12926883f76752df93">m2m_memset</a></div><div class="ttdeci">void m2m_memset(uint8 *pBuf, uint8 val, uint32 sz)</div><div class="ttdoc">Set specified number of data bytes in specified data buffer to specified value.</div><div class="ttdef"><b>Definition:</b> <a href="nm__common_8c_source.html#l00058">nm_common.c:58</a></div></div>
<div class="ttc" id="agroup___data_t_html_ga100e7c691a47d6978527c479a0158245"><div class="ttname"><a href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a></div><div class="ttdeci">unsigned long uint32</div><div class="ttdoc">Range of values between 0 to 4294967295.</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp_8h_source.html#l00107">nm_bsp.h:107</a></div></div>
<div class="ttc" id="agroup___h_f_d_html_ga380dbb3b375f7c7960687441c6efd5f8"><div class="ttname"><a href="group___h_f_d.html#ga380dbb3b375f7c7960687441c6efd5f8">m2m_ota_host_file_read_spi</a></div><div class="ttdeci">NMI_API sint8 m2m_ota_host_file_read_spi(uint8 u8Handler, uint8 *pu8Buff, uint32 u32Offset, uint32 u32Size)</div><div class="ttdoc">Read a certain amount of bytes from a file in WINC's Flash using SPI transfer.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00449">m2m_ota.c:449</a></div></div>
<div class="ttc" id="agroup___h_f_d_html_ga4c3b206dd2264c8798a3c85c8df12335"><div class="ttname"><a href="group___h_f_d.html#ga4c3b206dd2264c8798a3c85c8df12335">m2m_ota_host_file_get</a></div><div class="ttdeci">NMI_API sint8 m2m_ota_host_file_get(unsigned char *pcDownloadUrl, tpfFileGetCb pfHFDGetCb)</div><div class="ttdoc">Download a file from a remote location and store it in the WINC's Flash.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00369">m2m_ota.c:369</a></div></div>
<div class="ttc" id="agroup___nm_bsp_init_fn_html_ga91533a50cf3da832110a746b4a57789e"><div class="ttname"><a href="group___nm_bsp_init_fn.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a></div><div class="ttdeci">sint8 nm_bsp_init(void)</div><div class="ttdoc">This function is used to initialize the Board Support Package (BSP) in order to prepare the WINC befo...</div><div class="ttdef"><b>Definition:</b> <a href="nm__bsp__same70_8c_source.html#l00071">nm_bsp_same70.c:71</a></div></div>
<div class="ttc" id="agroup___o_t_a_c_o_m_m_o_n_html_ga2191d921c32ed79e56dbe16535f663d8"><div class="ttname"><a href="group___o_t_a_c_o_m_m_o_n.html#ga2191d921c32ed79e56dbe16535f663d8">m2m_ota_init</a></div><div class="ttdeci">NMI_API sint8 m2m_ota_init(tpfOtaUpdateCb pfOtaUpdateCb, tpfOtaNotifCb pfOtaNotifCb)</div><div class="ttdoc">Initialize the OTA layer.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__ota_8c_source.html#l00171">m2m_ota.c:171</a></div></div>
<div class="ttc" id="agroup___o_t_a_t_y_p_e_d_e_f_html_gga3e56744d263918b9e36016f78d823c3aaa125479191f24a910fc75ee33de0a1d4"><div class="ttname"><a href="group___o_t_a_t_y_p_e_d_e_f.html#gga3e56744d263918b9e36016f78d823c3aaa125479191f24a910fc75ee33de0a1d4">HFD_STATUS</a></div><div class="ttdeci">@ HFD_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l03184">m2m_types.h:3183</a></div></div>
<div class="ttc" id="agroup___o_t_a_t_y_p_e_d_e_f_html_ggab7006b9cb55eb414d0416d0513533eeba23e293bcc679d3021e202ac255b71500"><div class="ttname"><a href="group___o_t_a_t_y_p_e_d_e_f.html#ggab7006b9cb55eb414d0416d0513533eeba23e293bcc679d3021e202ac255b71500">OTA_STATUS_SUCCESS</a></div><div class="ttdeci">@ OTA_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l03144">m2m_types.h:3143</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_c_o_n_n_e_c_t_html_ga47a2fd846c691e9cf9acc5bcba867386"><div class="ttname"><a href="group___w_l_a_n_c_o_n_n_e_c_t.html#ga47a2fd846c691e9cf9acc5bcba867386">m2m_wifi_default_connect</a></div><div class="ttdeci">sint8 m2m_wifi_default_connect(void)</div><div class="ttdoc">Asynchronous API that attempts to reconnect to the last-associated access point.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00563">m2m_wifi.c:563</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_e_v_t_s_html_ga461a4edc057cec8c00cf124a07aa3b02"><div class="ttname"><a href="group___w_l_a_n_e_v_t_s.html#ga461a4edc057cec8c00cf124a07aa3b02">m2m_wifi_handle_events</a></div><div class="ttdeci">sint8 m2m_wifi_handle_events(void *arg)</div><div class="ttdoc">Synchronous M2M event handler function.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00540">m2m_wifi.c:540</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_ga49fb8d396cf8404fb0990f472fd27f5a"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#ga49fb8d396cf8404fb0990f472fd27f5a">m2m_wifi_download_mode</a></div><div class="ttdeci">sint8 m2m_wifi_download_mode()</div><div class="ttdoc">Prepares the WINC board before downloading any data (Firmware, Certificates, etc).</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00295">m2m_wifi.c:295</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_ga54f3a17ebb8204ebc262ad5c5f54bfd5"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#ga54f3a17ebb8204ebc262ad5c5f54bfd5">m2m_wifi_get_state</a></div><div class="ttdeci">uint8 m2m_wifi_get_state(void)</div><div class="ttdoc">Get the wifi state.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l02042">m2m_wifi.c:2042</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_ga73c734812e844d96d860c4e93e9daf35"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a></div><div class="ttdeci">sint8 m2m_wifi_init(tstrWifiInitParam *pWifiInitParam)</div><div class="ttdoc">Synchronous API to initialize the WINC driver.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00513">m2m_wifi.c:513</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_gabec8d70030597ea6685b202f7d014a7c"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#gabec8d70030597ea6685b202f7d014a7c">m2m_wifi_reinit</a></div><div class="ttdeci">sint8 m2m_wifi_reinit(tstrWifiInitParam *pWifiInitParam)</div><div class="ttdoc">De-initialize and then initialize wifi. Resets the WINC.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l02022">m2m_wifi.c:2022</a></div></div>
<div class="ttc" id="agroup___w_l_a_n_i_n_i_t_html_gacadee10a536f3e9817f26aa52b0bb954"><div class="ttname"><a href="group___w_l_a_n_i_n_i_t.html#gacadee10a536f3e9817f26aa52b0bb954">m2m_wifi_deinit</a></div><div class="ttdeci">sint8 m2m_wifi_deinit(void *arg)</div><div class="ttdoc">De-initialize the WINC driver and host interface.</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8c_source.html#l00525">m2m_wifi.c:525</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga064de09dec1d5e88ed8d075fa40f57deaa849449fa83e4b552689266a1f1019e7"><div class="ttname"><a href="group___wlan_enums.html#gga064de09dec1d5e88ed8d075fa40f57deaa849449fa83e4b552689266a1f1019e7">M2M_WIFI_REQ_DHCP_CONF</a></div><div class="ttdeci">@ M2M_WIFI_REQ_DHCP_CONF</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l01024">m2m_types.h:1022</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga6fd80a986c0ee128add6160889a3b2c2a3776f24e3a21d316e8876c59352ab1f1"><div class="ttname"><a href="group___wlan_enums.html#gga6fd80a986c0ee128add6160889a3b2c2a3776f24e3a21d316e8876c59352ab1f1">WIFI_STATE_DEINIT</a></div><div class="ttdeci">@ WIFI_STATE_DEINIT</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00253">m2m_wifi.h:252</a></div></div>
<div class="ttc" id="amain_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdoc">Main application function.</div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00669">main.c:669</a></div></div>
<div class="ttc" id="astructtstr_wifi_init_param_html"><div class="ttname"><a href="structtstr_wifi_init_param.html">tstrWifiInitParam</a></div><div class="ttdoc">Structure, holding the Wi-fi configuration attributes such as the wi-fi callback ,...</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00379">m2m_wifi.h:379</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="m2m__ota_8c_source.html#l00449">449</a> of file <a class="el" href="m2m__ota_8c_source.html">m2m_ota.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{</div>
<div class="line"><span class="lineno">  451</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32FlashHFDStart = 0;</div>
<div class="line"><span class="lineno">  452</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="group___data_t.html#ga100e7c691a47d6978527c479a0158245">uint32</a> u32FlashHFDSize  = 0;</div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_typedef" href="group___data_t.html#gae35f10ffd0ac8dd2bc3e794da9bdfbc7">sint8</a> s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#gad7b33b775a3158ec2b1ceeb105b1a461">M2M_ERR_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span>((u8Handler == <a class="code hl_define" href="group___o_t_a_d_e_f_i_n_e.html#gabee73a5cfde46a8918274961bc43dc32">HFD_INVALID_HANDLER</a>) || (<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == pu8Buff)) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga6fd80a986c0ee128add6160889a3b2c2a9a0f4ef2c87d5a1730b0e632eb30a00a">WIFI_STATE_INIT</a> != <a class="code hl_function" href="group___w_l_a_n_i_n_i_t.html#ga54f3a17ebb8204ebc262ad5c5f54bfd5">m2m_wifi_get_state</a>())</div>
<div class="line"><span class="lineno">  457</span>    {</div>
<div class="line"><span class="lineno">  458</span>        s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"><span class="lineno">  459</span>        <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;WINC is not in an appropriate state for this operation!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  461</span>    }</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span>((u32FlashHFDStart == 0) || (u32FlashHFDSize == 0))</div>
<div class="line"><span class="lineno">  464</span>    {</div>
<div class="line"><span class="lineno">  465</span>        s8Ret = <a class="code hl_function" href="group___s_pi_flash_read.html#ga06e28a7f4aedeb08d4efcc3849a4ce48">spi_flexible_flash_find_section</a>(<a class="code hl_enumvalue" href="group___wlan_enums.html#gga190067e587fb9c4c1c540957fd134966a5fef93e4030d05816d8a4f5c8fb45b8f">ENTRY_ID_HOSTFILE</a>, &amp;u32FlashHFDStart, &amp;u32FlashHFDSize);</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  467</span>    }</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    s8Ret = <a class="code hl_function" href="group___s_pi_flash_read.html#ga8b0828301a6a13644b046fe9f6e4a8e4">spi_flash_read</a>(pu8Buff, u32FlashHFDStart, 4);</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span>((<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret) || (pu8Buff[0] != u8Handler)) <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span>((u32Offset &gt;= u32FlashHFDSize) ||</div>
<div class="line"><span class="lineno">  474</span>            (u32Size   &gt;  u32FlashHFDSize) ||</div>
<div class="line"><span class="lineno">  475</span>            ((u32Offset + u32Size) &gt;= u32FlashHFDSize))</div>
<div class="line"><span class="lineno">  476</span>    {</div>
<div class="line"><span class="lineno">  477</span>        s8Ret = <a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga39ed05df730834f2255971ca9879996e">M2M_ERR_FAIL</a>;</div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordflow">goto</span> EXIT;</div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    s8Ret = <a class="code hl_function" href="group___s_pi_flash_read.html#ga8b0828301a6a13644b046fe9f6e4a8e4">spi_flash_read</a>(pu8Buff, u32FlashHFDStart + <a class="code hl_define" href="spi__flash_8h.html#a9baedbc1cc2cba06fc2ec5e466910cea">FLASH_SECTOR_SZ</a> + u32Offset, u32Size);</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != s8Ret)</div>
<div class="line"><span class="lineno">  484</span>        <a class="code hl_define" href="group___debug_defines.html#ga34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;Unable to read SPI Flash\n&quot;</span>);</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>EXIT:</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">return</span> s8Ret;</div>
<div class="line"><span class="lineno">  488</span>}</div>
<div class="ttc" id="agroup___s_pi_flash_read_html_ga06e28a7f4aedeb08d4efcc3849a4ce48"><div class="ttname"><a href="group___s_pi_flash_read.html#ga06e28a7f4aedeb08d4efcc3849a4ce48">spi_flexible_flash_find_section</a></div><div class="ttdeci">sint8 spi_flexible_flash_find_section(uint16 u16EntryIDToLookFor, uint32 *pu32StartOffset, uint32 *pu32Size)</div><div class="ttdoc">Read the Flash Map to extract the host file starting offset. .</div><div class="ttdef"><b>Definition:</b> <a href="flexible__flash_8c_source.html#l00042">flexible_flash.c:42</a></div></div>
<div class="ttc" id="agroup___s_pi_flash_read_html_ga8b0828301a6a13644b046fe9f6e4a8e4"><div class="ttname"><a href="group___s_pi_flash_read.html#ga8b0828301a6a13644b046fe9f6e4a8e4">spi_flash_read</a></div><div class="ttdeci">sint8 spi_flash_read(uint8 *pu8Buf, uint32 u32offset, uint32 u32Sz)</div><div class="ttdoc">Read a specified portion of data from SPI Flash. .</div><div class="ttdef"><b>Definition:</b> <a href="spi__flash_8c_source.html#l00570">spi_flash.c:570</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga190067e587fb9c4c1c540957fd134966a5fef93e4030d05816d8a4f5c8fb45b8f"><div class="ttname"><a href="group___wlan_enums.html#gga190067e587fb9c4c1c540957fd134966a5fef93e4030d05816d8a4f5c8fb45b8f">ENTRY_ID_HOSTFILE</a></div><div class="ttdeci">@ ENTRY_ID_HOSTFILE</div><div class="ttdef"><b>Definition:</b> <a href="m2m__types_8h_source.html#l00539">m2m_types.h:538</a></div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga6fd80a986c0ee128add6160889a3b2c2a9a0f4ef2c87d5a1730b0e632eb30a00a"><div class="ttname"><a href="group___wlan_enums.html#gga6fd80a986c0ee128add6160889a3b2c2a9a0f4ef2c87d5a1730b0e632eb30a00a">WIFI_STATE_INIT</a></div><div class="ttdeci">@ WIFI_STATE_INIT</div><div class="ttdef"><b>Definition:</b> <a href="m2m__wifi_8h_source.html#l00255">m2m_wifi.h:254</a></div></div>
<div class="ttc" id="aspi__flash_8h_html_a9baedbc1cc2cba06fc2ec5e466910cea"><div class="ttname"><a href="spi__flash_8h.html#a9baedbc1cc2cba06fc2ec5e466910cea">FLASH_SECTOR_SZ</a></div><div class="ttdeci">#define FLASH_SECTOR_SZ</div><div class="ttdef"><b>Definition:</b> <a href="spi__flash_8h_source.html#l00111">spi_flash.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="m2m__types_8h_source.html#l00538">ENTRY_ID_HOSTFILE</a>, <a class="el" href="spi__flash_8h_source.html#l00109">FLASH_SECTOR_SZ</a>, <a class="el" href="m2m__types_8h_source.html#l00514">HFD_INVALID_HANDLER</a>, <a class="el" href="nm__debug_8h_source.html#l00060">M2M_ERR</a>, <a class="el" href="nm__common_8h_source.html#l00066">M2M_ERR_FAIL</a>, <a class="el" href="nm__common_8h_source.html#l00070">M2M_ERR_INVALID_ARG</a>, <a class="el" href="nm__common_8h_source.html#l00054">M2M_SUCCESS</a>, <a class="el" href="m2m__wifi_8c_source.html#l02042">m2m_wifi_get_state()</a>, <a class="el" href="nm__bsp_8h_source.html#l00064">NULL</a>, <a class="el" href="spi__flash_8c_source.html#l00570">spi_flash_read()</a>, <a class="el" href="flexible__flash_8c_source.html#l00042">spi_flexible_flash_find_section()</a>, and <a class="el" href="m2m__wifi_8h_source.html#l00254">WIFI_STATE_INIT</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_f_d_ga380dbb3b375f7c7960687441c6efd5f8_cgraph.gif" border="0" usemap="#agroup___h_f_d_ga380dbb3b375f7c7960687441c6efd5f8_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 11 2023 23:19:38 for WINC1500 Weather Client Demo for SAME70 Xplained by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
